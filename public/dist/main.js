/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../node_modules/querystring-es3/decode.js":
/*!*************************************************!*\
  !*** ../node_modules/querystring-es3/decode.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n\n//# sourceURL=webpack:///../node_modules/querystring-es3/decode.js?");

/***/ }),

/***/ "../node_modules/querystring-es3/encode.js":
/*!*************************************************!*\
  !*** ../node_modules/querystring-es3/encode.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n\n//# sourceURL=webpack:///../node_modules/querystring-es3/encode.js?");

/***/ }),

/***/ "../node_modules/querystring-es3/index.js":
/*!************************************************!*\
  !*** ../node_modules/querystring-es3/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.decode = exports.parse = __webpack_require__(/*! ./decode */ \"../node_modules/querystring-es3/decode.js\");\nexports.encode = exports.stringify = __webpack_require__(/*! ./encode */ \"../node_modules/querystring-es3/encode.js\");\n\n\n//# sourceURL=webpack:///../node_modules/querystring-es3/index.js?");

/***/ }),

/***/ "../sharedModel/expense.js":
/*!*********************************!*\
  !*** ../sharedModel/expense.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var __id_counter = 0;\r\n\r\nclass Expense {\r\n    constructor(initialValues = {}) {\r\n        this.id = __id_counter++;\r\n\r\n        this.amount = 0;\r\n        this.date = new Date();\r\n        this.note = \"\";\r\n        // this.source_id = null;\r\n        // this.tags = [];\r\n\r\n        for (const [key, value] of Object.entries(initialValues)) if (this.hasOwnProperty(key)) this[key] = value;\r\n    }\r\n\r\n    /* Validates its own properties after applying the given list of updates\r\n    :return -> A tuple with the validation result ([BOOL VALID], [LIST ERROR MESSAGES]) \r\n            An error message is an object of structure: { property: [STR], message: [STR] }\r\n    */\r\n    validate(propUpdates = {}) {\r\n        let errorList = [];\r\n\r\n        for (const [key, value] of Object.entries(this)) {\r\n            let newValue = propUpdates.hasOwnProperty(key) ? propUpdates[key] : value;\r\n\r\n            switch (key) {\r\n                case \"amount\":\r\n                    if (typeof newValue !== \"number\")\r\n                        errorList.push({ property: key, message: `'amount' must be a number` });\r\n                    else if (newValue <= 0)\r\n                        errorList.push({ property: key, message: `'amount' must be greater than 0` });\r\n                    break;\r\n                case \"note\":\r\n                    if (typeof newValue !== \"string\")\r\n                        errorList.push({ property: key, message: `'note' must be a string` });\r\n                    else if (newValue.length > 256)\r\n                        errorList.push({ property: key, message: `'note' must be less than 256 characters` });\r\n                    var date = new Date();\r\n\r\n                    break;\r\n                case \"date\":\r\n                    if (typeof newValue !== \"object\" || newValue.constructor.name !== \"Date\")\r\n                        errorList.push({ property: key, message: `'date' must be a Date object` });\r\n                    else if (newValue - new Date() > 0)\r\n                        errorList.push({ property: key, message: `'date' must not be in the future` });\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return { valid: errorList.length == 0, errors: errorList };\r\n    }\r\n}\r\n\r\nmodule.exports = Expense;\r\n\n\n//# sourceURL=webpack:///../sharedModel/expense.js?");

/***/ }),

/***/ "./assets/assetConfig.js":
/*!*******************************!*\
  !*** ./assets/assetConfig.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"baseDir\": \"assets\", \"imageDir\": \"images\", \"imagePaths\": [\"add.svg\", \"categories.svg\", \"char.png\", \"delete.svg\", \"down-filled.svg\", \"edit.svg\", \"expense.svg\", \"income.svg\", \"infinitiLogo.png\", \"left-box.svg\", \"loginTeal.png\", \"report.svg\", \"right-box.svg\", \"search.svg\", \"searchPurple.png\", \"up-filled.svg\"], \"imageCount\": 16, \"themeDir\": \"themes\", \"themePaths\": [\"default.json\", \"greenBusiness.json\", \"theme1.json\"], \"themeBase\": \"\", \"themeCount\": 3, \"markupDir\": \"markup\", \"markupPaths\": [\"budgetAnalyzer\\\\enterExpenseSection.json\", \"budgetAnalyzer\\\\navbar.json\", \"kempertime\\\\accountLine.json\", \"kempertime\\\\historySection.json\", \"kempertime\\\\homeSection.json\", \"kempertime\\\\navbar.json\", \"kempertime\\\\shiftLine.json\", \"kempertime\\\\statusBar.json\"], \"markupCount\": 8});\n\n//# sourceURL=webpack:///./assets/assetConfig.js?");

/***/ }),

/***/ "./assets/imageMap.js":
/*!****************************!*\
  !*** ./assets/imageMap.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"add\": \"add\", \"categories\": \"categories\", \"char\": \"char\", \"delete\": \"delete\", \"down-filled\": \"down-filled\", \"edit\": \"edit\", \"expense\": \"expense\", \"income\": \"income\", \"infinitiLogo\": \"infinitiLogo\", \"left-box\": \"left-box\", \"loginTeal\": \"loginTeal\", \"report\": \"report\", \"right-box\": \"right-box\", \"search\": \"search\", \"searchPurple\": \"searchPurple\", \"up-filled\": \"up-filled\"});\n\n//# sourceURL=webpack:///./assets/imageMap.js?");

/***/ }),

/***/ "./assets/markupMap.js":
/*!*****************************!*\
  !*** ./assets/markupMap.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"budgetAnalyzer\\\\enterExpenseSection\": \"budgetAnalyzer\\\\enterExpenseSection\", \"budgetAnalyzer\\\\navbar\": \"budgetAnalyzer\\\\navbar\", \"kempertime\\\\accountLine\": \"kempertime\\\\accountLine\", \"kempertime\\\\historySection\": \"kempertime\\\\historySection\", \"kempertime\\\\homeSection\": \"kempertime\\\\homeSection\", \"kempertime\\\\navbar\": \"kempertime\\\\navbar\", \"kempertime\\\\shiftLine\": \"kempertime\\\\shiftLine\", \"kempertime\\\\statusBar\": \"kempertime\\\\statusBar\"});\n\n//# sourceURL=webpack:///./assets/markupMap.js?");

/***/ }),

/***/ "./assets/themeMap.js":
/*!****************************!*\
  !*** ./assets/themeMap.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"default\": \"default\", \"greenBusiness\": \"greenBusiness\", \"theme1\": \"theme1\"});\n\n//# sourceURL=webpack:///./assets/themeMap.js?");

/***/ }),

/***/ "./src/dataProviders/budgetAnalyzerData.js":
/*!*************************************************!*\
  !*** ./src/dataProviders/budgetAnalyzerData.js ***!
  \*************************************************/
/*! exports provided: BudgetAnalyzerData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BudgetAnalyzerData\", function() { return BudgetAnalyzerData; });\n/* harmony import */ var _lib_datalit_binding_dataProviderBase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/datalit/binding/dataProviderBase.js */ \"./src/lib/datalit/binding/dataProviderBase.js\");\n/* harmony import */ var _lib_datalit_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/datalit/enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var querystring__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! querystring */ \"../node_modules/querystring-es3/index.js\");\n/* harmony import */ var querystring__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(querystring__WEBPACK_IMPORTED_MODULE_2__);\n\r\n\r\n\r\n\r\nclass BudgetAnalyzerData extends _lib_datalit_binding_dataProviderBase_js__WEBPACK_IMPORTED_MODULE_0__[\"DataProviderBase\"] {\r\n    constructor() {\r\n        super(\"budgetAnalyzerDataProvider\");\r\n\r\n        this.total = 315;\r\n        this.name = \"NEW EXPENSE\";\r\n    }\r\n\r\n    hasEndpoint(key) {\r\n        console.log(`checking endpoint ${key} in ${this.title}`);\r\n\r\n        return key === \"totalExpenseCount\" || key === \"newExpenseName\";\r\n    }\r\n\r\n    getEndpointType(key) {\r\n        console.log(`checking endpoint ${key} type in ${this.title}`);\r\n\r\n        if (key === \"totalExpenseCount\") return _lib_datalit_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"BindingType\"].READ_ONLY;\r\n        else if (key === \"newExpenseName\") return _lib_datalit_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"BindingType\"].TWO_WAY;\r\n    }\r\n\r\n    initializeEndpoint(key) {\r\n        if (key === \"totalExpenseCount\") {\r\n            this.dispatchEvent(\"dataUpdated\", { endpoint: key, newValue: `${this.total}` });\r\n        } else if (key === \"newExpenseName\") {\r\n            this.dispatchEvent(\"dataUpdated\", { endpoint: key, newValue: this.name });\r\n        }\r\n    }\r\n}\r\n\r\n//             http://api.openweathermap.org/data/2.5/weather?id=5931800&APPID=4cb795818fcbf849f23882cc0947031b\r\n\n\n//# sourceURL=webpack:///./src/dataProviders/budgetAnalyzerData.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib_datalit_app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/datalit/app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _pages_budgetAnalyzer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pages/budgetAnalyzer.js */ \"./src/pages/budgetAnalyzer.js\");\n/* harmony import */ var _pages_testApp_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pages/testApp.js */ \"./src/pages/testApp.js\");\n\r\n\r\n\r\n// import { KTHomePage } from \"./pages/kempertime.js\";\r\n\r\n\r\n\r\nconsole.log(`... initialized application (${[window.innerWidth, window.innerHeight]})`);\r\n\r\nsetTimeout(() => {\r\n    // App.addPage(new WelcomePage(), { default: true });\r\n    // App.addPage(new KTHomePage(), { default: true });\r\n    _lib_datalit_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].addPage(new _pages_budgetAnalyzer_js__WEBPACK_IMPORTED_MODULE_1__[\"BudgetAnalyzerPage\"](), { default: true });\r\n    // App.addPage(new TestPage(), { default: true });\r\n    _lib_datalit_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].run();\r\n}, 200);\r\n\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/lib/datalit/app.js":
/*!********************************!*\
  !*** ./src/lib/datalit/app.js ***!
  \********************************/
/*! exports provided: App */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"App\", function() { return App; });\n/* harmony import */ var _assetManager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./assetManager.js */ \"./src/lib/datalit/assetManager.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/events.js */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _pageManager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pageManager.js */ \"./src/lib/datalit/pageManager.js\");\n\r\n\r\n\r\n\r\n\r\nvar INSTANCE = null;\r\n\r\nclass DatalitApp {\r\n    constructor() {\r\n        this.Canvas = document.getElementById(\"canvas\");\r\n        this.Context = this.Canvas.getContext(\"2d\");\r\n        this.GlobalState = {\r\n            DefaultBackground: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Color\"].WHITE,\r\n            DefaultFontSize: 12,\r\n            RedrawRequired: true,\r\n            DirtySections: [],\r\n            Clipboard: \"\"\r\n        };\r\n\r\n        this._popupSections = [];\r\n\r\n        // Specify the alpha resolution strategy\r\n        this.Context.globalCompositeOperation = \"destination-over\";\r\n\r\n        // Initialize the canvas to the appropriate size\r\n        this.resizeCanvas();\r\n\r\n        // All resize events results in the resizing of the canvas\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_2__[\"Events\"].register(window, \"resize\", (ev, data) => this.resizeCanvas(), { priority: 1 });\r\n\r\n        // For tracking main application loop elapsed\r\n        this.lastTick = 0;\r\n\r\n        // Create the base manager classes\r\n        this.pageManager = new _pageManager_js__WEBPACK_IMPORTED_MODULE_3__[\"PageManager\"]();\r\n\r\n        // Save to static Singleton variable\r\n        INSTANCE = this;\r\n    }\r\n\r\n    getPopups() {\r\n        return this._popupSections;\r\n    }\r\n\r\n    addPopup(popup) {\r\n        this._popupSections.push(popup);\r\n    }\r\n\r\n    removePopup(popup) {\r\n        this._popupSections.splice(this._popupSections.indexOf(popup), 1);\r\n    }\r\n\r\n    addDrawTarget(dirtySection) {\r\n        // Don't add invisible sections\r\n        if (!dirtySection.visible) return;\r\n\r\n        // Don't add duplicates\r\n        if (this.GlobalState.DirtySections.indexOf(dirtySection) != -1) return;\r\n\r\n        // Don't add children of existing draw targets\r\n        let parent = dirtySection.__parent || null;\r\n        while (parent) {\r\n            if (this.GlobalState.DirtySections.indexOf(parent) != -1) return;\r\n            else parent = parent.__parent;\r\n        }\r\n\r\n        name = dirtySection.debugName || dirtySection.constructor.name;\r\n        // console.log(\"adding draw target \" + name);\r\n        this.GlobalState.DirtySections.push(dirtySection);\r\n    }\r\n\r\n    addPage(newPage, options = {}) {\r\n        this.pageManager.pushPage(newPage);\r\n    }\r\n\r\n    resizeCanvas() {\r\n        console.log(\"resizing canvas\");\r\n        this.Canvas.width = window.innerWidth;\r\n        this.Canvas.height = window.innerHeight;\r\n    }\r\n\r\n    run(currentTime) {\r\n        let elapsed = currentTime - INSTANCE.lastTick;\r\n        INSTANCE.lastTick = currentTime;\r\n\r\n        INSTANCE.pageManager.update(elapsed);\r\n\r\n        // Redraw everything if requested\r\n        if (INSTANCE.GlobalState.RedrawRequired) {\r\n            // console.log(\"redrawing full screen\");\r\n            // console.log(INSTANCE.GlobalState.DirtySections.length);\r\n            INSTANCE.GlobalState.RedrawRequired = false;\r\n            INSTANCE.GlobalState.DirtySections = [];\r\n            INSTANCE.Context.clearRect(0, 0, INSTANCE.Canvas.width, INSTANCE.Canvas.height);\r\n            INSTANCE.pageManager.draw();\r\n        }\r\n\r\n        // Redraw only dirty sections (INSTANCE doesn't yet work with ScrollSections)\r\n        if (INSTANCE.GlobalState.DirtySections.length > 0) {\r\n            // console.log(\"redrawing dirty sections: \" + INSTANCE.GlobalState.DirtySections.length);\r\n            for (let i = 0; i < INSTANCE.GlobalState.DirtySections.length; i++) {\r\n                // console.log(`redrawing ${INSTANCE.GlobalState.DirtySections[i].debugName}`);\r\n                INSTANCE.Context.clearRect(...INSTANCE.GlobalState.DirtySections[i].viewingRect);\r\n                INSTANCE.GlobalState.DirtySections[i].draw(App.Context);\r\n            }\r\n            INSTANCE.GlobalState.DirtySections = [];\r\n        }\r\n\r\n        window.requestAnimationFrame(INSTANCE.run);\r\n    }\r\n}\r\n\r\nconsole.log(\"creating new app instance\");\r\n\r\n// Export a single instance of this class\r\nconst App = new DatalitApp();\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/app.js?");

/***/ }),

/***/ "./src/lib/datalit/assetManager.js":
/*!*****************************************!*\
  !*** ./src/lib/datalit/assetManager.js ***!
  \*****************************************/
/*! exports provided: Assets */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Assets\", function() { return Assets; });\n/* harmony import */ var _assets_assetConfig_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../assets/assetConfig.js */ \"./assets/assetConfig.js\");\n/* harmony import */ var _assets_imageMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../assets/imageMap.js */ \"./assets/imageMap.js\");\n/* harmony import */ var _assets_themeMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../assets/themeMap.js */ \"./assets/themeMap.js\");\n/* harmony import */ var _assets_markupMap_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../assets/markupMap.js */ \"./assets/markupMap.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils.js */ \"./src/lib/datalit/utils.js\");\n/* harmony import */ var _binding_commandBinding_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./binding/commandBinding.js */ \"./src/lib/datalit/binding/commandBinding.js\");\n/* harmony import */ var _binding_dataBindingMetadata_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./binding/dataBindingMetadata.js */ \"./src/lib/datalit/binding/dataBindingMetadata.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Handles all assets for the application.\r\nclass AssetManager {\r\n    constructor() {\r\n        this._images = {};\r\n        this._themes = {};\r\n        this._markups = {};\r\n        this._imageDir = _assets_assetConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].imageDir;\r\n        this._themeDir = _assets_assetConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].themeDir;\r\n        this._markupDir = _assets_assetConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].markupDir;\r\n\r\n        for (let file of _assets_assetConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].imagePaths) {\r\n            let key = file;\r\n            if (file.search(\".\") != -1)\r\n                key = file\r\n                    .split(\".\")[0]\r\n                    .replace(\"\\\\\", \".\")\r\n                    .replace(\"/\", \".\");\r\n            this._images[key] = new Image();\r\n            this._images[key].src = \"../\" + _assets_assetConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].baseDir + \"/\" + _assets_assetConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].imageDir + \"/\" + file;\r\n        }\r\n\r\n        for (let file of _assets_assetConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].themePaths) {\r\n            let key = file;\r\n            if (file.search(\".\") != -1)\r\n                key = file\r\n                    .split(\".\")[0]\r\n                    .replace(\"\\\\\", \".\")\r\n                    .replace(\"/\", \".\");\r\n            fetch(`http://localhost:9080/${_assets_assetConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].baseDir}/${_assets_assetConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].themeDir}/${file}`)\r\n                .then(rsp => rsp.json())\r\n                .then(rsp => {\r\n                    rsp = this.parseThemeData(rsp);\r\n                    if (rsp.isBase) this.BaseTheme = rsp;\r\n                    this._themes[key] = rsp;\r\n                });\r\n        }\r\n\r\n        for (let file of _assets_assetConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].markupPaths) {\r\n            let key = file;\r\n            if (file.search(\".\") != -1)\r\n                key = file\r\n                    .split(\".\")[0]\r\n                    .replace(\"\\\\\", \".\")\r\n                    .replace(\"/\", \".\");\r\n            fetch(`http://localhost:9080/${_assets_assetConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].baseDir}/${_assets_assetConfig_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].markupDir}/${file}`)\r\n                .then(rsp => rsp.json())\r\n                .then(rsp => {\r\n                    rsp = this.parseMarkupData(rsp);\r\n                    this._markups[key] = rsp;\r\n                });\r\n        }\r\n\r\n        // Public maps so intellisense is awesome\r\n        this.Images = _assets_imageMap_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\r\n        this.Themes = _assets_themeMap_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\r\n        this.Markups = _assets_markupMap_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\r\n    }\r\n\r\n    parseThemeData(themeObj) {\r\n        let jsonString = JSON.stringify(themeObj);\r\n\r\n        jsonString = jsonString.replace(/\\$[^\"]{1,}/g, (str, offset, input) => {\r\n            // console.log(`str: ${str} | offset: ${offset}`);\r\n            // console.log(`Tokens: ${JSON.stringify(tokens)}`);\r\n            // console.log(`Replace value: ${resolveObjectPath(tokens, themeObj)}`);\r\n            let tokens = str.substr(1, str.length).split(\".\");\r\n            return _utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].resolveObjectPath(tokens, themeObj);\r\n        });\r\n\r\n        return JSON.parse(jsonString);\r\n    }\r\n\r\n    *traverse(obj, path = [], idPath = []) {\r\n        const newIdPath = obj.hasOwnProperty(\"id\") ? idPath.concat(obj.id) : idPath;\r\n        for (var key of Object.keys(obj)) {\r\n            const itemPath = path.concat(key);\r\n            yield [key, obj[key], itemPath, newIdPath];\r\n            if (obj[key] !== null && typeof obj[key] == \"object\") {\r\n                //going one step down in the object tree!!\r\n                yield* this.traverse(obj[key], itemPath, newIdPath);\r\n            }\r\n        }\r\n    }\r\n\r\n    parseMarkupData(markupObj) {\r\n        let jsonString = JSON.stringify(markupObj);\r\n\r\n        /* $[CHAR]= -> represents replacement with existing value\r\n            e - Enum from enums.js                      Ex/ $e=HAlign.CENTER\r\n            t - Theme data specified by resource path   Ex/ $t=default.colors.BackgroundMain\r\n            c - Command binding                         Ex/ $c=backAction\r\n            d - Data binding                            Ex/ $d=CoreData:lastExpenseReport.title       ([DATA_SOURCE]:[DATA_PATH])\r\n        */\r\n        jsonString = jsonString.replace(/\\$e=[^\"]{1,}/g, (str, offset, input) => {\r\n            let tokens = str.substr(3, str.length - 3).split(\".\");\r\n            return _enums_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"][tokens[0]][tokens[1]];\r\n        });\r\n        jsonString = jsonString.replace(/\\$t=[^\"]{1,}/g, (str, offset, input) => {\r\n            let tokens = str.substr(3, str.length - 3).split(\".\");\r\n\r\n            // First token represents the theme filename, the remaining tokens are the path to the requested resource\r\n            return _utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].resolveObjectPath(tokens.slice(1, tokens.length), this._themes[tokens[0]]);\r\n        });\r\n\r\n        let markupObject = JSON.parse(jsonString);\r\n\r\n        /* Traverse parsed object and create command bindings specified by the markup */\r\n        let commandBindings = [];\r\n        for (var [key, value, path, idPath] of this.traverse(markupObject)) {\r\n            // console.log(`KEY: ${key} | VALUE: ${value} | PATH: ${path} | ID PATH: ${idPath}`);\r\n            if (typeof value === \"string\" && value.startsWith(\"$c=\"))\r\n                commandBindings.push(new _binding_commandBinding_js__WEBPACK_IMPORTED_MODULE_6__[\"CommandBinding\"](value.substr(3), idPath, key));\r\n        }\r\n\r\n        /* Traverse parsed object and generate data binding shells specified by markup */\r\n        let dataBindings = [];\r\n        for (var [key, value, path, idPath] of this.traverse(markupObject)) {\r\n            if (typeof value === \"string\" && value.startsWith(\"$d=\")) {\r\n                dataBindings.push(new _binding_dataBindingMetadata_js__WEBPACK_IMPORTED_MODULE_7__[\"DataBindingMetadata\"](idPath, key, value.substr(3)));\r\n            }\r\n        }\r\n\r\n        // Remove binding strings and replace with null for object creation\r\n        jsonString = jsonString.replace(/\"\\$[cd]=[^\"]{1,}\"/g, (str, offset, input) => {\r\n            return \"null\";\r\n        });\r\n\r\n        return { object: JSON.parse(jsonString), commandBindings: commandBindings, dataBindingMetadatas: dataBindings };\r\n    }\r\n\r\n    getImage(name) {\r\n        if (name.search(\".\") != -1) name = name.split(\".\")[0];\r\n\r\n        if (!(name in this._images)) {\r\n            throw new Error(`Image file ${name} not found in directory ${this._imageDir}`);\r\n        }\r\n\r\n        return this._images[name];\r\n    }\r\n\r\n    getTheme(name) {\r\n        if (!(name in this._themes)) {\r\n            throw new Error(`Theme ${name} not found in directory ${this._themeDir}`);\r\n        }\r\n\r\n        return this._themes[name];\r\n    }\r\n\r\n    getMarkup(name) {\r\n        if (!(name in this._markups)) {\r\n            throw new Error(`Markup file ${name} not found in directory ${this._markupDir}`);\r\n        }\r\n\r\n        return this._markups[name];\r\n    }\r\n}\r\n\r\nconst Assets = new AssetManager();\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/assetManager.js?");

/***/ }),

/***/ "./src/lib/datalit/binding/bindingContext.js":
/*!***************************************************!*\
  !*** ./src/lib/datalit/binding/bindingContext.js ***!
  \***************************************************/
/*! exports provided: BindingContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BindingContext\", function() { return BindingContext; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/lib/datalit/utils.js\");\n/* harmony import */ var _dataBinding__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dataBinding */ \"./src/lib/datalit/binding/dataBinding.js\");\n\r\n\r\n\r\nclass BindingContext {\r\n    constructor(host, commandDefinitions = {}, dataSources = {}) {\r\n        this._host = host;\r\n        this._commands = commandDefinitions;\r\n        this._commandBindings = [];\r\n        this._dataBindingMetadatas = [];\r\n\r\n        this._dataSources = dataSources;\r\n        this._dataBindings = [];\r\n    }\r\n\r\n    addCommandBindings(bindings) {\r\n        this._commandBindings = this._commandBindings.concat(bindings);\r\n    }\r\n\r\n    addDataBindingMetadatas(metadata) {\r\n        this._dataBindingMetadatas = this._dataBindingMetadatas.concat(metadata);\r\n    }\r\n\r\n    initializeBindings() {\r\n        // Prepare command bindings based on the provided command definitions\r\n        for (let bind of this._commandBindings) {\r\n            let nameMatch = Object.keys(this._commands).find(key => key === bind.name);\r\n            if (!nameMatch) {\r\n                console.log(`no match found for binding: ${bind.name}`);\r\n                continue;\r\n            }\r\n\r\n            // console.log(\r\n            //     `successful match for ${nameMatch} of path ${bind.path}.${bind.property} to definition ${this._commands[nameMatch]}`\r\n            // );\r\n            let targetControl = _utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDescendentProperty(this._host, bind.path);\r\n            targetControl[bind.property] = this._commands[nameMatch];\r\n        }\r\n\r\n        // Take markup generated binding metadata and create binding objects\r\n        for (let bind of this._dataBindingMetadatas) {\r\n            let sourceKey = bind.dataPath.split(\":\")[0];\r\n            let sourcePath = bind.dataPath.split(\":\")[1];\r\n            let keyMatch = Object.keys(this._dataSources).find(key => key === sourceKey);\r\n\r\n            if (!keyMatch || !this._dataSources[keyMatch].hasEndpoint(sourcePath)) {\r\n                console.log(\r\n                    `no match found for data binding ${bind.controlPath}.${bind.controlProperty} -> ${bind.dataPath}`\r\n                );\r\n                continue;\r\n            }\r\n\r\n            let sourceMatch = this._dataSources[keyMatch];\r\n\r\n            let targetControl = _utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDescendentProperty(this._host, bind.controlPath);\r\n            if (!targetControl || targetControl[bind.controlProperty] === undefined) {\r\n                console.log(`no match found for control ${targetControl.debugName}.${bind.controlProperty}`);\r\n                continue;\r\n            }\r\n\r\n            let sourceType = sourceMatch.getEndpointType(sourcePath);\r\n            this._dataBindings.push(\r\n                new _dataBinding__WEBPACK_IMPORTED_MODULE_1__[\"DataBinding\"](targetControl, bind.controlProperty, sourceMatch, sourcePath, sourceType)\r\n            );\r\n\r\n            console.log(\r\n                `successful match for binding ${targetControl.debugName}.${bind.controlProperty} to ${sourceMatch.title}->${sourcePath} (${sourceType})`\r\n            );\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/binding/bindingContext.js?");

/***/ }),

/***/ "./src/lib/datalit/binding/commandBinding.js":
/*!***************************************************!*\
  !*** ./src/lib/datalit/binding/commandBinding.js ***!
  \***************************************************/
/*! exports provided: CommandBinding */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CommandBinding\", function() { return CommandBinding; });\nclass CommandBinding {\r\n    constructor(name, hostPath, property) {\r\n        this.name = name;\r\n        this.path = hostPath;\r\n        this.property = property;\r\n\r\n        // console.log(`created binding with name ${name} and path ${JSON.stringify(hostPath)}.${property}`);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/binding/commandBinding.js?");

/***/ }),

/***/ "./src/lib/datalit/binding/dataBinding.js":
/*!************************************************!*\
  !*** ./src/lib/datalit/binding/dataBinding.js ***!
  \************************************************/
/*! exports provided: DataBinding */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DataBinding\", function() { return DataBinding; });\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events/events.js */ \"./src/lib/datalit/events/events.js\");\n\r\n\r\n\r\nclass DataBinding {\r\n    constructor(control, property, dataProvider, dataPath, type = _enums_js__WEBPACK_IMPORTED_MODULE_0__[\"BindingType\"].READ_ONLY) {\r\n        this._state = _enums_js__WEBPACK_IMPORTED_MODULE_0__[\"BindingState\"].INACTIVE;\r\n\r\n        this._type = type;\r\n        this._control = control;\r\n        this._property = property;\r\n        this._dataProvider = dataProvider;\r\n        this._dataPath = dataPath;\r\n\r\n        // Rapid flag toggle to prevent cyclic event raising\r\n        this._dataDrivenEvent = false;\r\n\r\n        // Subscribe to data provider updates\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_1__[\"Events\"].register(this._dataProvider, \"dataUpdated\", (event, data) => this.handleProviderUpdate(event, data));\r\n\r\n        // Subscribe to control propertyChanged updates\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_1__[\"Events\"].register(this._control, \"propertyChanged\", (event, data) => this.handlePropertyUpdate(event, data));\r\n\r\n        this._dataProvider.initializeEndpoint(dataPath);\r\n    }\r\n\r\n    handleProviderUpdate(event, data) {\r\n        if (data.endpoint === this._dataPath) {\r\n            console.log(`Handle data update from ${this._dataProvider.title}.${this._dataPath}`);\r\n\r\n            this._dataDrivenEvent = true;\r\n            this._control[this._property] = data.newValue;\r\n\r\n            // In case there is no change and propertyChanged event is not fired\r\n            this._dataDrivenEvent = false;\r\n        }\r\n    }\r\n\r\n    handlePropertyUpdate(event, data) {\r\n        if (data.property === this._property) {\r\n            if (this._dataDrivenEvent) {\r\n                this._dataDrivenEvent = false;\r\n                return;\r\n            }\r\n\r\n            console.log(`Handle property update from ${this._control.debugName}.${this._property} -> ${data.newValue}`);\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/binding/dataBinding.js?");

/***/ }),

/***/ "./src/lib/datalit/binding/dataBindingMetadata.js":
/*!********************************************************!*\
  !*** ./src/lib/datalit/binding/dataBindingMetadata.js ***!
  \********************************************************/
/*! exports provided: DataBindingMetadata */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DataBindingMetadata\", function() { return DataBindingMetadata; });\nclass DataBindingMetadata {\r\n    constructor(controlPath, controlProperty, dataPath) {\r\n        // Metadata fields declared in markup\r\n        this.controlPath = controlPath;\r\n        this.controlProperty = controlProperty;\r\n        this.dataPath = dataPath;\r\n\r\n        console.log(\r\n            `parsed data binding MD on ${JSON.stringify(controlPath)}.${controlProperty} | DATA SOURCE ${dataPath}`\r\n        );\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/binding/dataBindingMetadata.js?");

/***/ }),

/***/ "./src/lib/datalit/binding/dataProviderBase.js":
/*!*****************************************************!*\
  !*** ./src/lib/datalit/binding/dataProviderBase.js ***!
  \*****************************************************/
/*! exports provided: DataProviderBase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DataProviderBase\", function() { return DataProviderBase; });\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events/events.js */ \"./src/lib/datalit/events/events.js\");\n\r\n\r\nclass DataProviderBase {\r\n    constructor(title) {\r\n        this.title = title;\r\n\r\n        this.eventListeners = { dataUpdated: [] };\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_0__[\"Events\"].attachSource(this, [\"dataUpdated\"]);\r\n    }\r\n\r\n    dispatchEvent(eventName, data) {\r\n        if (this.eventListeners[eventName].length < 1) return;\r\n        for (let cb of this.eventListeners[eventName]) cb(data);\r\n    }\r\n\r\n    removeEventListener(eventName, callback) {\r\n        if (!(eventName in this.eventListeners)) return;\r\n        this.eventListeners[eventName].splice(this.eventListeners[eventName].indexOf(callback), 1);\r\n    }\r\n\r\n    addEventListener(eventName, callback) {\r\n        if (!(eventName in this.eventListeners)) this.eventListeners[eventName] = [];\r\n        this.eventListeners[eventName].push(callback);\r\n    }\r\n\r\n    // Override these\r\n    hasEndpoint(key) {\r\n        throw new Error(\"'hasEndpoint' must be implemented in all DataProvider classes'\");\r\n    }\r\n\r\n    getEndpointType(key) {\r\n        throw new Error(\"'getEndpointType' must be implemented in all DataProvider classes'\");\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/binding/dataProviderBase.js?");

/***/ }),

/***/ "./src/lib/datalit/controlFactory.js":
/*!*******************************************!*\
  !*** ./src/lib/datalit/controlFactory.js ***!
  \*******************************************/
/*! exports provided: generateMarkupObjects, generateControl, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generateMarkupObjects\", function() { return generateMarkupObjects; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generateControl\", function() { return generateControl; });\n/* harmony import */ var _controls_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./controls/button */ \"./src/lib/datalit/controls/button.js\");\n/* harmony import */ var _controls_circle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./controls/circle */ \"./src/lib/datalit/controls/circle.js\");\n/* harmony import */ var _controls_comboBox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controls/comboBox */ \"./src/lib/datalit/controls/comboBox.js\");\n/* harmony import */ var _controls_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./controls/icon */ \"./src/lib/datalit/controls/icon.js\");\n/* harmony import */ var _controls_iconButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./controls/iconButton */ \"./src/lib/datalit/controls/iconButton.js\");\n/* harmony import */ var _controls_label__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./controls/label */ \"./src/lib/datalit/controls/label.js\");\n/* harmony import */ var _controls_labelButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./controls/labelButton */ \"./src/lib/datalit/controls/labelButton.js\");\n/* harmony import */ var _controls_listSection__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./controls/listSection */ \"./src/lib/datalit/controls/listSection.js\");\n/* harmony import */ var _controls_rect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./controls/rect */ \"./src/lib/datalit/controls/rect.js\");\n/* harmony import */ var _controls_scrollSection__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./controls/scrollSection */ \"./src/lib/datalit/controls/scrollSection.js\");\n/* harmony import */ var _controls_section__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./controls/section */ \"./src/lib/datalit/controls/section.js\");\n/* harmony import */ var _controls_sectionHost__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./controls/sectionHost */ \"./src/lib/datalit/controls/sectionHost.js\");\n/* harmony import */ var _controls_textEdit__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./controls/textEdit */ \"./src/lib/datalit/controls/textEdit.js\");\n/* harmony import */ var _controls_textInput__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./controls/textInput */ \"./src/lib/datalit/controls/textInput.js\");\n/* harmony import */ var _assetManager_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./assetManager.js */ \"./src/lib/datalit/assetManager.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar OID_COUNTER = 0;\r\nvar CONTROL_CLASSES = null;\r\nfunction loadClasses() {\r\n    CONTROL_CLASSES = {\r\n        Button: _controls_button__WEBPACK_IMPORTED_MODULE_0__[\"Button\"],\r\n        Circle: _controls_circle__WEBPACK_IMPORTED_MODULE_1__[\"Circle\"],\r\n        ComboBox: _controls_comboBox__WEBPACK_IMPORTED_MODULE_2__[\"ComboBox\"],\r\n        Icon: _controls_icon__WEBPACK_IMPORTED_MODULE_3__[\"Icon\"],\r\n        IconButton: _controls_iconButton__WEBPACK_IMPORTED_MODULE_4__[\"IconButton\"],\r\n        Label: _controls_label__WEBPACK_IMPORTED_MODULE_5__[\"Label\"],\r\n        LabelButton: _controls_labelButton__WEBPACK_IMPORTED_MODULE_6__[\"LabelButton\"],\r\n        ListSection: _controls_listSection__WEBPACK_IMPORTED_MODULE_7__[\"ListSection\"],\r\n        Rect: _controls_rect__WEBPACK_IMPORTED_MODULE_8__[\"Rect\"],\r\n        ScrollSection: _controls_scrollSection__WEBPACK_IMPORTED_MODULE_9__[\"ScrollSection\"],\r\n        Section: _controls_section__WEBPACK_IMPORTED_MODULE_10__[\"Section\"],\r\n        SectionHost: _controls_sectionHost__WEBPACK_IMPORTED_MODULE_11__[\"SectionHost\"],\r\n        TextEdit: _controls_textEdit__WEBPACK_IMPORTED_MODULE_12__[\"TextEdit\"],\r\n        TextInput: _controls_textInput__WEBPACK_IMPORTED_MODULE_13__[\"TextInput\"]\r\n    };\r\n}\r\n\r\nfunction _generateControl(source) {\r\n    // Assign a generic name if no id is present\r\n    if (!source.id) source.id = `${OID_COUNTER++}_${source.type}`;\r\n\r\n    // Delete any properties that equal null (binding path replacements)\r\n    Object.keys(source.properties)\r\n        .filter(val => source.properties[val] == null)\r\n        .map(key => delete source.properties[key]);\r\n\r\n    // Extract style list if present\r\n    let styles = null;\r\n    if (source.properties.styles) {\r\n        styles = source.properties.styles;\r\n        delete source.properties.styles;\r\n    }\r\n\r\n    // Generate the control using this factory's pattern\r\n    var newControl = generateControl(source.type, { debugName: source.id, ...source.properties }, styles);\r\n\r\n    if (source.children && source.children.length > 0) {\r\n        for (let childSource of source.children) {\r\n            // Assign a generic name if no id is present\r\n            if (!childSource.id) childSource.id = `${OID_COUNTER++}_${childSource.type}`;\r\n            newControl[childSource.id] = _generateControl(childSource);\r\n            newControl.addChild(newControl[childSource.id]);\r\n        }\r\n    }\r\n\r\n    return newControl;\r\n}\r\n\r\nfunction generateMarkupObjects(name, bindingContext = null) {\r\n    // Load in dynamic class object list\r\n    if (!CONTROL_CLASSES) loadClasses();\r\n\r\n    let { object, commandBindings, dataBindingMetadatas } = _assetManager_js__WEBPACK_IMPORTED_MODULE_14__[\"Assets\"].getMarkup(name);\r\n    if (bindingContext) bindingContext.addCommandBindings(commandBindings);\r\n    if (bindingContext) bindingContext.addDataBindingMetadatas(dataBindingMetadatas);\r\n\r\n    // console.log(JSON.stringify(object));\r\n\r\n    OID_COUNTER = 0;\r\n    return _generateControl(object);\r\n}\r\n\r\n/* THE ALL POWERFUL CONTROL GENERATOR METHOD\r\n    This should be the ONLY way that controls are generated in datalit by the user\r\n    Generating from markup also relies on this function\r\n    Complex controls generating children however, cannot use this method for circular referencing reasons. Therefore, complex controls are responsible for:\r\n        * instantiating their composite classes using the constructor    \r\n        * applying any themes they want / need\r\n        * applying any initial properties after creation\r\n        * applying any styles after initial property application\r\n        * executing the 'activate' function once the above steps are complete\r\n\r\n    prop: controlClass ->       String value of the control class to be created\r\n    prop: initialProperties ->  Specific properties that override theme\r\n    prop: styles ->             For DynamicControl derivatives, provide different ControlState styles as dict object. \r\n                                If this is not empty, a ControlState.DEFAULT style will be generated\r\n    prop: theme ->              Theme to apply, defaults to the BaseTheme\r\n                                If explicitly set to 'null', then no theme will be applied\r\n*/\r\nfunction generateControl(controlClass, initialProperties = {}, styles = {}, theme = _assetManager_js__WEBPACK_IMPORTED_MODULE_14__[\"Assets\"].BaseTheme) {\r\n    // Load in dynamic class object list if first call\r\n    if (!CONTROL_CLASSES) loadClasses();\r\n\r\n    // Generate new object using generic Control object constructor\r\n    var newControl = new CONTROL_CLASSES[controlClass]();\r\n\r\n    // Run class-specific initialization logic. Typically used for composite object creation\r\n    newControl.initialize(generateControl);\r\n\r\n    // Apply theme before customized properties\r\n    if (theme) {\r\n        console.log(\"applying theme: \" + theme.name);\r\n        newControl.applyTheme(controlClass, theme);\r\n    }\r\n\r\n    // Apply custom (non-theme, non-style) initial properties\r\n    newControl.updateProperties(initialProperties);\r\n\r\n    // Add custom (non-theme) styles if present\r\n    if (styles) {\r\n        for (const [key, value] of Object.entries(styles)) {\r\n            let propertyDefinitions = [];\r\n            for (const [propKey, propValue] of Object.entries(value)) propertyDefinitions.push([propKey, propValue]);\r\n            newControl.addStyle(key, propertyDefinitions);\r\n        }\r\n    }\r\n\r\n    // Run class-specific activation logic. Goes in direction ancestor -> child\r\n    newControl.activate();\r\n\r\n    return newControl;\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    generateMarkupObjects,\r\n    generateControl\r\n});\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controlFactory.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/button.js":
/*!********************************************!*\
  !*** ./src/lib/datalit/controls/button.js ***!
  \********************************************/
/*! exports provided: Button */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Button\", function() { return Button; });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors.js */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events/events.js */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _label_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./label.js */ \"./src/lib/datalit/controls/label.js\");\n/* harmony import */ var _section_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./section.js */ \"./src/lib/datalit/controls/section.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils.js */ \"./src/lib/datalit/utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Button extends _section_js__WEBPACK_IMPORTED_MODULE_5__[\"Section\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        super.updateProperties({\r\n            contentDirection: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].HORIZONTAL,\r\n            borderColor: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Color\"].BLACK,\r\n            borderThickness: 1,\r\n            valign: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"VAlign\"].TOP,\r\n            halign: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"HAlign\"].LEFT,\r\n            hsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FIXED, 100],\r\n            vsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FIXED, 30]\r\n        });\r\n\r\n        // Composite control definitions\r\n        this.label = null;\r\n\r\n        // Unique Properties\r\n        this._textOffset = 0;\r\n        this._action = null;\r\n        this.registerProperty(\"textOffset\", true);\r\n        this.registerProperty(\"action\", false, false, true);\r\n\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].attachSource(this, [\"click\"]);\r\n    }\r\n\r\n    initialize(generateControl) {\r\n        super.initialize(generateControl);\r\n\r\n        this.label = generateControl(\"Label\", {\r\n            text: \"\",\r\n            margin: 0,\r\n            halign: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"HAlign\"].CENTER,\r\n            valign: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"VAlign\"].CENTER\r\n        });\r\n        this.addChild(this.label);\r\n\r\n        this.registerAliasProperty(\"text\", \"label\", \"text\", true);\r\n        this.registerAliasProperty(\"fontSize\", \"label\");\r\n        this.registerAliasProperty(\"fontColor\", \"label\");\r\n        this.registerAliasProperty(\"fontType\", \"label\");\r\n    }\r\n\r\n    handleMouseUp() {\r\n        if (this.state == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].DEPRESSED) this.dispatchEvent(\"click\", this);\r\n\r\n        super.handleMouseUp();\r\n    }\r\n\r\n    //#region Override Method\r\n    //#endregion\r\n\r\n    //#region Override Properties\r\n    //#endregion\r\n\r\n    //#region Unique Properties\r\n    get action() {\r\n        return this._action;\r\n    }\r\n    set action(newAction) {\r\n        if (typeof newAction != \"function\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Button.action\", String(newAction), \"function\"]);\r\n\r\n        // Remove current action callback if present\r\n        if (this._action) this.removeEventListener(\"click\", this._action);\r\n        this.addEventListener(\"click\", newAction);\r\n\r\n        this._action = newAction;\r\n        this.notifyPropertyChange(\"action\");\r\n    }\r\n    get textOffset() {\r\n        return this._textOffset;\r\n    }\r\n    set textOffset(offset) {\r\n        if (!Number.isInteger(offset)) Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Button.textOffset\", String(offset), \"int\"]);\r\n\r\n        if (offset > 0) this.label.margin = [offset, offset, 0, 0];\r\n        else if (offset < 0) this.label.margin = [0, 0, -offset, -offset];\r\n        else this.label.margin = 0;\r\n        this._textOffset = offset;\r\n        this.notifyPropertyChange(\"textOffset\");\r\n    }\r\n    //#endregion\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/button.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/circle.js":
/*!********************************************!*\
  !*** ./src/lib/datalit/controls/circle.js ***!
  \********************************************/
/*! exports provided: Circle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Circle\", function() { return Circle; });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _control_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./control.js */ \"./src/lib/datalit/controls/control.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../errors.js */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils.js */ \"./src/lib/datalit/utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Circle extends _control_js__WEBPACK_IMPORTED_MODULE_2__[\"Control\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        // Unique properties\r\n        this._radius = 1;\r\n        this._fillColor = _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Color\"].BLACK;\r\n        this._borderColor = null;\r\n        this._borderThickness = 0;\r\n        this.registerProperty(\"radius\", true);\r\n        this.registerProperty(\"fillColor\");\r\n        this.registerProperty(\"borderColor\");\r\n        this.registerProperty(\"borderThickness\", false, true, false, _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].compareSides);\r\n    }\r\n\r\n    // Method overrides\r\n    isPointWithin(point) {\r\n        let center = [\r\n            this._arrangedPosition[0] + this.radius + this.margin[0],\r\n            this._arrangedPosition[1] + this.radius + this.margin[1]\r\n        ];\r\n\r\n        let dist = _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].distanceBetweenPoints(point, center);\r\n\r\n        return dist <= this.radius;\r\n    }\r\n\r\n    // Property overrides\r\n    get size() {\r\n        return [this.radius * 2, this.radius * 2];\r\n    }\r\n    set size(newSize) {\r\n        if (\r\n            typeof newSize != \"object\" ||\r\n            newSize.length != 2 ||\r\n            !Number.isInteger(newSize[0]) ||\r\n            !Number.isInteger(newSize[1])\r\n        )\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Circle.size\", String(newSize), \"LIST of 2 int\"]);\r\n\r\n        if (newSize[0] != 0) this._radius = Math.floor(newSize[0] / 2);\r\n        else if (newSize[1] != 0) this._radius = Math.floor(newSize[1] / 2);\r\n    }\r\n\r\n    //#region Unique Properties\r\n    get radius() {\r\n        return this._radius;\r\n    }\r\n    set radius(newRadius) {\r\n        if (!Number.isInteger(newRadius)) Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Circle.radius\", String(newRadius), \"int\"]);\r\n\r\n        this._radius = newRadius;\r\n        this.notifyPropertyChange(\"radius\");\r\n    }\r\n\r\n    get fillColor() {\r\n        return this._fillColor;\r\n    }\r\n    set fillColor(newColor) {\r\n        if (typeof _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hexColor(newColor) != \"string\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Circle.fillColor\", String(newColor), \"string\"]);\r\n\r\n        this._fillColor = newColor;\r\n        this.notifyPropertyChange(\"fillColor\");\r\n    }\r\n\r\n    get borderColor() {\r\n        return this._borderColor;\r\n    }\r\n    set borderColor(newColor) {\r\n        if (typeof _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hexColor(newColor) != \"string\") {\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Circle.borderColor\", String(newColor), \"string\"]);\r\n        }\r\n\r\n        this._borderColor = newColor;\r\n        this.notifyPropertyChange(\"borderColor\");\r\n    }\r\n\r\n    get borderThickness() {\r\n        return this._borderThickness;\r\n    }\r\n    set borderThickness(thickness) {\r\n        if (!Number.isInteger(thickness) || thickness < 0)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Circle.borderThickness\", String(thickness), \"int\"]);\r\n        this._borderThickness = thickness;\r\n        this.notifyPropertyChange(\"borderThickness\");\r\n    }\r\n    //#endregion\r\n\r\n    draw(context = _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context, offset = [0, 0]) {\r\n        context.beginPath();\r\n        context.fillStyle = _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hexColor(this.fillColor);\r\n        let center = [\r\n            this._arrangedPosition[0] + offset[0] + this.radius + this.margin[0],\r\n            this._arrangedPosition[1] + offset[1] + this.radius + this.margin[1]\r\n        ];\r\n        context.arc(...center, this.radius, 0, Math.PI * 2);\r\n        context.fill();\r\n\r\n        if (!this.borderColor) return;\r\n\r\n        context.strokeStyle = _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hexColor(this.borderColor);\r\n        var count = 1;\r\n        while (count <= this.borderThickness) {\r\n            context.beginPath();\r\n            context.arc(...center, this.radius - (count - 1), 0, Math.PI * 2);\r\n            context.stroke();\r\n            count++;\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/circle.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/comboBox.js":
/*!**********************************************!*\
  !*** ./src/lib/datalit/controls/comboBox.js ***!
  \**********************************************/
/*! exports provided: ComboBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ComboBox\", function() { return ComboBox; });\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors.js */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _section__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./section */ \"./src/lib/datalit/controls/section.js\");\n/* harmony import */ var _events_events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events/events */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _label__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./label */ \"./src/lib/datalit/controls/label.js\");\n/* harmony import */ var _iconButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./iconButton */ \"./src/lib/datalit/controls/iconButton.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils */ \"./src/lib/datalit/utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst BUTTON_SIZE = 28;\r\n\r\nclass ComboBox extends _section__WEBPACK_IMPORTED_MODULE_3__[\"Section\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        super.updateProperties({\r\n            isFocusable: true,\r\n            contentDirection: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ContentDirection\"].FREE,\r\n            borderThickness: [1, 1, 0, 1],\r\n            borderColor: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"Color\"].BLACK,\r\n            backgroundColor: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"Color\"].WHITE,\r\n            halign: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"HAlign\"].LEFT,\r\n            valign: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"VAlign\"].TOP,\r\n            hsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].FIXED, 200],\r\n            vsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].FIXED, 30]\r\n        });\r\n\r\n        // For convenience, store the index of the currently selected value\r\n        this._selectedIndex = 0;\r\n\r\n        // Maintain the option section immutable properties as an internal dict. Mutable properties are exposed as a property\r\n        this._immutableOptionProperties = {\r\n            halign: null,\r\n            valign: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"VAlign\"].TOP,\r\n            hsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].FILL, null]\r\n        };\r\n\r\n        // Control declarations\r\n        this.toggleButton = null;\r\n        this.selectionLabel = null;\r\n        this.popupSection = null;\r\n\r\n        // Unique property declarations\r\n        this._visibleOptionCount = 8;\r\n        this._selectionOptions = [];\r\n        this._defaultOption = null;\r\n        this._allowNullSelection = false;\r\n        this._optionProperties = {\r\n            valign: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"VAlign\"].TOP,\r\n            halign: null,\r\n            vsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].FIXED, 30],\r\n            hsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].FILL, null],\r\n            backgroundColor: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"Color\"].WHITE,\r\n            borderColor: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"Color\"].BLACK,\r\n            borderThickness: [1, 0, 1, 1]\r\n        };\r\n        this._optionStyles = {\r\n            HOVERED: { backgroundColor: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"Color\"].GRAY },\r\n            SELECTED: { backgroundColor: \"bbbbee\" }\r\n        };\r\n        this.registerProperty(\"selectionOptions\", true, true, true, _utils__WEBPACK_IMPORTED_MODULE_7__[\"default\"].compareSimpleLists);\r\n        this.registerProperty(\"visibleOptionCount\");\r\n        this.registerProperty(\"defaultOption\", false, true, true);\r\n        this.registerProperty(\"allowNullSelection\");\r\n\r\n        _events_events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].register(this, \"propertyChanged\", (event, data) => {\r\n            if (data.property === \"focused\") this.handleFocusChange();\r\n            else if (\r\n                data.property === \"selectionOptions\" ||\r\n                data.property === \"visibleOptionCount\" ||\r\n                data.property === \"selectedText\"\r\n            )\r\n                this.updatePopup();\r\n        });\r\n\r\n        _events_events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].register(this, \"mouseup\", (event, data) => {\r\n            console.log(\"mouse click\");\r\n        });\r\n\r\n        _events_events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].register(this, \"keydown\", (event, data) => this.handleKeyDown(event, data));\r\n    }\r\n\r\n    initialize(generateControl) {\r\n        super.initialize(generateControl);\r\n\r\n        // Create building block controls\r\n        this.toggleButton = generateControl(\"IconButton\", {\r\n            imagePath: \"down-filled\",\r\n            action: btn => this._handleTogglePress(),\r\n            margin: 0,\r\n            localPosition: [200 - BUTTON_SIZE, 0],\r\n            size: [BUTTON_SIZE, 30],\r\n            iconMargin: 10,\r\n            borderThickness: [0, 1, 1, 1],\r\n            borderColor: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"Color\"].BLACK,\r\n            backgroundColor: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"Color\"].WHITE,\r\n            debugName: \"toggleButton\"\r\n        });\r\n        super.addChild(this.toggleButton);\r\n\r\n        this.selectionLabel = generateControl(\"Label\", {\r\n            localPosition: [8, 8],\r\n            debugName: \"selectionLabel\"\r\n        });\r\n        super.addChild(this.selectionLabel);\r\n\r\n        // Alias properties\r\n        this.registerAliasProperty(\"toggleImagePath\", \"toggleButton\", \"imagePath\", false);\r\n        this.registerAliasProperty(\"selectedText\", \"selectionLabel\", \"text\", true);\r\n    }\r\n\r\n    handleKeyDown(event, data) {\r\n        console.log(JSON.stringify(data));\r\n\r\n        if (data.code === \"Escape\") this.focused = false;\r\n    }\r\n\r\n    activate() {\r\n        super.activate();\r\n\r\n        // Ensure popup is updated from initial creation\r\n        this.updatePopup();\r\n\r\n        // Add defaultOption as selected if present\r\n        if (this.defaultOption) {\r\n            this.selectedText = this.defaultOption;\r\n            this._selectedIndex = this.selectionOptions.indexOf(this.selectedText);\r\n        }\r\n    }\r\n\r\n    updatePopupPosition() {\r\n        this.popupSection.arrangePosition(this, [\r\n            this._arrangedPosition[0],\r\n            this._arrangedPosition[1] + this.height + 2\r\n        ]);\r\n    }\r\n\r\n    updatePopup() {\r\n        console.log(\"updating popup\");\r\n\r\n        if (this.popupSection) {\r\n            super.removeChild(this.popupSection);\r\n            _app__WEBPACK_IMPORTED_MODULE_0__[\"App\"].removePopup(this.popupSection);\r\n        }\r\n\r\n        this.popupSection = this._generator(\"Section\", {\r\n            contentDirection: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ContentDirection\"].VERTICAL,\r\n            size: [200, this.visibleOptionCount * this._optionProperties.vsizeTarget[1]],\r\n            localPosition: [0, 30],\r\n            borderColor: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"Color\"].BLACK,\r\n            borderThickness: 1,\r\n            backgroundColor: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"Color\"].WHITE,\r\n            debugName: \"comboboxPopupSection\"\r\n        });\r\n\r\n        for (var i = 0; i < this.selectionOptions.length; i++) {\r\n            var optionSection = this._generator(\r\n                \"Section\",\r\n                { ...this._optionProperties, debugName: `option ${i}` },\r\n                this._optionStyles\r\n            );\r\n            optionSection.label = this._generator(\"Label\", {\r\n                text: this.selectionOptions[i],\r\n                margin: [10, 0, 10, 0],\r\n                valign: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"VAlign\"].CENTER\r\n            });\r\n            optionSection.addChild(optionSection.label);\r\n            this.popupSection.addChild(optionSection);\r\n        }\r\n\r\n        this.updatePopupPosition();\r\n\r\n        // Record as a popup, so mouse events still hit it, despite it being outside the bounds of its parent Section\r\n        // App.addPopup(this.popupSection);\r\n    }\r\n\r\n    handleFocusChange() {\r\n        console.log(\"focus changed to \" + this.focused);\r\n\r\n        if (this.focused) {\r\n            super.addChild(this.popupSection);\r\n            _app__WEBPACK_IMPORTED_MODULE_0__[\"App\"].addPopup(this.popupSection);\r\n        } else {\r\n            super.removeChild(this.popupSection);\r\n            _app__WEBPACK_IMPORTED_MODULE_0__[\"App\"].removePopup(this.popupSection);\r\n        }\r\n    }\r\n\r\n    // Method Overrides\r\n    addChild(newChild) {\r\n        throw new Error(\"Cannot have children in ComboBox\");\r\n    }\r\n    removeChild(child) {\r\n        throw new Error(\"Cannot have children in ComboBox\");\r\n    }\r\n\r\n    _handleTogglePress(btn) {\r\n        console.log(\"toggle button pressed\");\r\n    }\r\n    // -----------------\r\n\r\n    // Properties\r\n    get selectionOptions() {\r\n        return this._selectionOptions;\r\n    }\r\n    set selectionOptions(newOptions) {\r\n        if (typeof newOptions != \"object\" || !newOptions.length)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"propertySet\", [\"ComboBox.selectionOptions\", String(newOptions), \"list\"]);\r\n\r\n        this._selectionOptions = newOptions;\r\n        this.notifyPropertyChange(\"selectionOptions\");\r\n    }\r\n\r\n    get visibleOptionCount() {\r\n        return this._visibleOptionCount;\r\n    }\r\n    set visibleOptionCount(newCount) {\r\n        if (typeof newCount != \"number\" || newCount < 1)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"propertySet\", [\"ComboBox.visibleOptionCount\", String(newCount), \"int 1 or greater\"]);\r\n\r\n        this._visibleOptionCount = newCount;\r\n        this.notifyPropertyChange(\"visibleOptionCount\");\r\n    }\r\n\r\n    get defaultOption() {\r\n        return this._defaultOption;\r\n    }\r\n    set defaultOption(newValue) {\r\n        if (typeof newValue != \"string\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"propertySet\", [\"ComboBox.defaultOption\", String(newValue), \"string\"]);\r\n\r\n        if (newValue != null && !this.selectionOptions.includes(newValue))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"propertySet\", [\"ComboBox.defaultOption\", String(newValue), \"within options list\"]);\r\n\r\n        this._defaultOption = newValue;\r\n        this.notifyPropertyChange(\"defaultOption\");\r\n    }\r\n\r\n    get allowNullSelection() {\r\n        return this._allowNullSelection;\r\n    }\r\n    set allowNullSelection(newValue) {\r\n        if (typeof newValue != \"boolean\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"propertySet\", [\"ComboBox.allowNullSelection\", String(newValue), \"boolean\"]);\r\n\r\n        this._allowNullSelection = newValue;\r\n        this.notifyPropertyChange(\"allowNullSelection\");\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/comboBox.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/control.js":
/*!*********************************************!*\
  !*** ./src/lib/datalit/controls/control.js ***!
  \*********************************************/
/*! exports provided: Control */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Control\", function() { return Control; });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _assetManager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../assetManager.js */ \"./src/lib/datalit/assetManager.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../errors.js */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events/events.js */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils.js */ \"./src/lib/datalit/utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar GUID = 0;\r\n\r\nclass Control {\r\n    constructor() {\r\n        // Convenience member for internal rerender / redraw logic\r\n        this.__parent = null;\r\n\r\n        // As the name suggests, main use is for identifying controls during debugging\r\n        this._debugName = null;\r\n\r\n        // Used for event dictionary quick hash-lookups\r\n        this.__GUID = GUID++;\r\n\r\n        // Used by factory to withhold property change events and their side effects until init is complete\r\n        this.__active = false;\r\n\r\n        // Keep track of generateControl method for complex controls who generate controls dynamically\r\n        this._generator = null;\r\n\r\n        this._state = _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ControlState\"].READY;\r\n        this._visible = true;\r\n        this._arrangedPosition = [0, 0];\r\n        this._size = [0, 0];\r\n        this._margin = [0, 0, 0, 0];\r\n        this._halign = _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"HAlign\"].LEFT;\r\n        this._valign = _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"VAlign\"].TOP;\r\n        this._focused = false;\r\n        this._isFocusable = false;\r\n        this._localPosition = [0, 0];\r\n        this._zValue = 0;\r\n        this._scrollOffset = [0, 0];\r\n\r\n        // Members used for property event functions\r\n        this.propertyMetadata = {};\r\n        this.registerProperty(\"state\", false, false, true);\r\n        this.registerProperty(\"visible\", false, true, true);\r\n        this.registerProperty(\"size\", true, true, true, _utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].comparePoints);\r\n        this.registerProperty(\"margin\", true, true, true, _utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].compareSides);\r\n        this.registerProperty(\"halign\", true);\r\n        this.registerProperty(\"valign\", true);\r\n        this.registerProperty(\"focused\", false, true, true);\r\n        this.registerProperty(\"localPosition\", true, true, false, _utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].comparePoints);\r\n        this.registerProperty(\"zValue\");\r\n        this.registerProperty(\"scrollOffset\", false, false, true, _utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].comparePoints);\r\n\r\n        // All controls must register with the event system for 'propertyChanged' events\r\n        this.eventListeners = { propertyChanged: [] };\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].attachSource(this, [\"propertyChanged\"]);\r\n    }\r\n\r\n    //#region Method Overrides\r\n    toString() {\r\n        let str = this.constructor.name;\r\n        return this.debugName ? `${str} - ${this.debugName}` : `${str} (${this._arrangedPosition})`;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Methods\r\n    applyTheme(className, newTheme = _assetManager_js__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].BaseTheme) {\r\n        let styleMatch = newTheme.controlProperties[className];\r\n        if (styleMatch) {\r\n            for (const [key, value] of Object.entries(styleMatch)) {\r\n                if (key == \"styles\") {\r\n                    for (const [styleKey, styleValue] of Object.entries(value)) {\r\n                        let propertyDefinitions = [];\r\n                        for (const [propKey, propValue] of Object.entries(styleValue))\r\n                            propertyDefinitions.push([propKey, propValue]);\r\n                        this.addStyle(styleKey, propertyDefinitions, true);\r\n                    }\r\n                }\r\n\r\n                this[key] = value;\r\n            }\r\n        }\r\n    }\r\n\r\n    isChildOf(parent) {\r\n        if (!parent.isArranger) return false;\r\n\r\n        return parent.children.indexOf(this) != -1;\r\n    }\r\n\r\n    dispatchEvent(eventName, data) {\r\n        if (this.eventListeners[eventName].length < 1) return;\r\n\r\n        for (let cb of this.eventListeners[eventName]) cb(data);\r\n    }\r\n\r\n    removeEventListener(eventName, callback) {\r\n        if (!(eventName in this.eventListeners)) return;\r\n\r\n        this.eventListeners[eventName].splice(this.eventListeners[eventName].indexOf(callback), 1);\r\n    }\r\n\r\n    addEventListener(eventName, callback) {\r\n        if (!(eventName in this.eventListeners)) this.eventListeners[eventName] = [];\r\n\r\n        this.eventListeners[eventName].push(callback);\r\n    }\r\n\r\n    /* ALIAS Properties are properties that expose an internal control (controlAlias) in a complex (composite)\r\n        Control. They directly pass through the property's functionality to the child, so validation\r\n        logic is optional, not required. Additional logic is also optional. \r\n    */\r\n    registerAliasProperty(propertyName, controlAlias, propertyAlias = null, styleProtected = false) {\r\n        // If no propertyAlias is provided, use propertyName and assume they share the property name\r\n        propertyAlias = propertyAlias || propertyName;\r\n\r\n        this.propertyMetadata[propertyName] = {\r\n            previousValue: this[controlAlias][propertyAlias],\r\n            redraw: this[controlAlias].propertyMetadata[propertyAlias].redraw,\r\n            rerender: this[controlAlias].propertyMetadata[propertyAlias].rerender,\r\n            compare: this[controlAlias].propertyMetadata[propertyAlias].compare,\r\n            styleProtected: styleProtected,\r\n            alias: true\r\n        };\r\n\r\n        // Create getters and setters automatically\r\n        Object.defineProperty(this, propertyName, {\r\n            get: function() {\r\n                return this[controlAlias][propertyAlias];\r\n            },\r\n            set: function(newValue) {\r\n                this[controlAlias][propertyAlias] = newValue;\r\n                this.notifyPropertyChange(propertyName);\r\n            }\r\n        });\r\n    }\r\n\r\n    registerProperty(\r\n        propertyName,\r\n        rerenderOnChange = false,\r\n        redrawOnChange = true,\r\n        styleProtected = false,\r\n        comparisonFunc = null\r\n    ) {\r\n        this.propertyMetadata[propertyName] = {\r\n            previousValue: this[propertyName],\r\n            redraw: redrawOnChange,\r\n            rerender: rerenderOnChange,\r\n            compare: comparisonFunc == null ? (a, b) => a === b : comparisonFunc,\r\n            styleProtected: styleProtected\r\n        };\r\n    }\r\n\r\n    notifyPropertyChange(name) {\r\n        // Check for withholding\r\n        if (!this.__active) return;\r\n\r\n        const metadata = this.propertyMetadata[name];\r\n\r\n        // Can't notify before registering\r\n        if (!metadata) return;\r\n\r\n        if (!metadata.compare(metadata.previousValue, this[name])) {\r\n            this.dispatchEvent(\"propertyChanged\", {\r\n                property: name,\r\n                oldValue: metadata.previousValue,\r\n                newValue: this[name]\r\n            });\r\n            // console.log(`Property ${name} changed from ${metadata.previousValue} to ${this[name]}`);\r\n            metadata.previousValue = this[name];\r\n            // Request rerender based on metadata, re-render ancestor until FIXED, FILL, OR PERCENT\r\n            if (metadata.rerender && this.__parent) {\r\n                var parent = this.__parent;\r\n                // Keep climbing genetic tree until we hit a parent that does not have Target -> Min or Color.Transparent background\r\n                while (\r\n                    parent.hsizeTarget[0] == _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].MIN ||\r\n                    parent.vsizeTarget[0] == _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].MIN ||\r\n                    parent.backgroundColor == _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"Color\"].TRANSPARENT\r\n                ) {\r\n                    if (!parent.__parent) break;\r\n                    parent = parent.__parent;\r\n                }\r\n\r\n                // console.log(`add render target - ${parent.debugName}`);\r\n                parent.scheduleRender();\r\n\r\n                // Redraw parent rendered section, which encapsulates redrawing all children as well\r\n                _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].addDrawTarget(parent);\r\n            }\r\n            // Request redraw as required\r\n            else if (metadata.redraw) {\r\n                if (!this.isArranger && !this.__parent) _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].addDrawTarget(this);\r\n                else {\r\n                    var parent = this.isArranger ? this : this.__parent;\r\n                    parent = parent.__parent || parent;\r\n                    // console.log(`addDrawTarget - ${parent.debugName}`);\r\n                    _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].addDrawTarget(parent);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateProperties(newProperties) {\r\n        for (const [key, value] of Object.entries(newProperties)) {\r\n            if (this.propertyMetadata[key] === undefined && !this.hasOwnProperty(\"_\" + key))\r\n                Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertyNotFound\", [\"Control\", key]);\r\n            this[key] = value;\r\n        }\r\n    }\r\n\r\n    arrangePosition(arranger, newPosition) {\r\n        if (!arranger.isArranger) Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"arrangeAuthority\", [String(arranger.constructor.name)]);\r\n        if (\r\n            typeof newPosition != \"object\" ||\r\n            newPosition.length != 2 ||\r\n            !Number.isInteger(newPosition[0]) ||\r\n            !Number.isInteger(newPosition[1])\r\n        )\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.arrangePosition()\", String(newPosition), \"LIST of 2 int\"]);\r\n\r\n        if (newPosition[0] == -1) {\r\n            this._arrangedPosition[1] = newPosition[1];\r\n        } else if (newPosition[1] == -1) {\r\n            this._arrangedPosition[0] = newPosition[0];\r\n        } else {\r\n            this._arrangedPosition = newPosition;\r\n        }\r\n    }\r\n\r\n    isPointWithin(point) {\r\n        let hr = this.hitRect;\r\n        hr[0] -= this.scrollOffset[0];\r\n        hr[1] -= this.scrollOffset[1];\r\n        return hr[0] < point[0] && point[0] < hr[0] + hr[2] && hr[1] < point[1] && point[1] < hr[1] + hr[3];\r\n    }\r\n\r\n    disable() {\r\n        this.state = _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ControlState\"].DISABLED;\r\n    }\r\n\r\n    enable() {\r\n        if (this.state == _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ControlState\"].DISABLED) this.state = _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ControlState\"].READY;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Properties\r\n    get debugName() {\r\n        return this._debugName;\r\n    }\r\n    set debugName(name) {\r\n        this._debugName = name;\r\n    }\r\n\r\n    get state() {\r\n        return this._state;\r\n    }\r\n    set state(newState) {\r\n        if (newState == this._state) return;\r\n\r\n        if (!_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ControlState\"].hasOwnProperty(newState))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.state\", String(newState), \"ControlState\"]);\r\n\r\n        if (this.state == _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ControlState\"].DISABLED && newState != _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ControlState\"].READY)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"illogical\", [\"newState\", newState, \"previousState\", \"DISABLED\"]);\r\n\r\n        // console.log(`Swapping state from ${this._state} to ${newState}`);\r\n\r\n        this._state = newState;\r\n        this.notifyPropertyChange(\"state\");\r\n    }\r\n\r\n    get visible() {\r\n        return this._visible;\r\n    }\r\n    set visible(flag) {\r\n        if (typeof flag != \"boolean\") Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.visible\", String(flag), \"BOOL\"]);\r\n\r\n        this._visible = flag;\r\n        this.notifyPropertyChange(\"visible\");\r\n    }\r\n\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    set size(newSize) {\r\n        if (\r\n            typeof newSize != \"object\" ||\r\n            newSize.length != 2 ||\r\n            !Number.isInteger(newSize[0]) ||\r\n            !Number.isInteger(newSize[1])\r\n        )\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.size\", String(newSize), \"LIST of 2 int\"]);\r\n\r\n        this._size = newSize;\r\n        this.notifyPropertyChange(\"size\");\r\n    }\r\n    get width() {\r\n        return this._size[0];\r\n    }\r\n    get height() {\r\n        return this._size[1];\r\n    }\r\n    set width(newWidth) {\r\n        if (typeof newWidth != \"number\" || !Number.isInteger(newWidth))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.width\", String(newWidth), \"int\"]);\r\n\r\n        this.size = [newWidth, this._size[1]];\r\n    }\r\n    set height(newHeight) {\r\n        if (typeof newHeight != \"number\" || !Number.isInteger(newHeight))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.height\", String(newHeight), \"int\"]);\r\n\r\n        this.size = [this._size[0], newHeight];\r\n    }\r\n\r\n    get margin() {\r\n        return this._margin;\r\n    }\r\n    set margin(newMargin) {\r\n        if (typeof newMargin == \"number\") {\r\n            if (!Number.isInteger(newMargin))\r\n                Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.margin\", String(newMargin), \"int or LIST of 4 int\"]);\r\n            this._margin = [newMargin, newMargin, newMargin, newMargin];\r\n        } else {\r\n            if (typeof newMargin != \"object\" || newMargin.length != 4)\r\n                Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.margin\", String(newMargin), \"int LIST of 4 int\"]);\r\n            for (let i = 0; i < 4; i++)\r\n                if (!Number.isInteger(newMargin[i]))\r\n                    Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.margin\", String(newMargin), \"int LIST of 4 int\"]);\r\n\r\n            this._margin = newMargin;\r\n        }\r\n        this.notifyPropertyChange(\"margin\");\r\n    }\r\n\r\n    get viewingRect() {\r\n        return [\r\n            this._arrangedPosition[0] + this.margin[0],\r\n            this._arrangedPosition[1] + this.margin[1],\r\n            this._size[0],\r\n            this._size[1]\r\n        ];\r\n    }\r\n    get viewWidth() {\r\n        return this._size[0] + this._margin[0] + this._margin[2];\r\n    }\r\n    get viewHeight() {\r\n        return this._size[1] + this._margin[1] + this._margin[3];\r\n    }\r\n    set viewWidth(newWidth) {\r\n        if (typeof newWidth != \"number\" || !Number.isInteger(newWidth))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.viewWidth\", String(newWidth), \"int\"]);\r\n\r\n        this.size = [Math.max(0, newWidth - this.margin[0] - this.margin[2]), this._size[1]];\r\n    }\r\n    set viewHeight(newHeight) {\r\n        if (typeof newHeight != \"number\" || !Number.isInteger(newHeight))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.viewHeight\", String(newHeight), \"int\"]);\r\n\r\n        this.size = [this._size[0], Math.max(0, newHeight - this.margin[1] - this.margin[3])];\r\n    }\r\n\r\n    get hitRect() {\r\n        return [\r\n            this._arrangedPosition[0] + this.margin[0],\r\n            this._arrangedPosition[1] + this.margin[1],\r\n            this.size[0],\r\n            this.size[1]\r\n        ];\r\n    }\r\n\r\n    get halign() {\r\n        return this._halign;\r\n    }\r\n    set halign(newAlign) {\r\n        if (!_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"HAlign\"].hasOwnProperty(newAlign) && newAlign != null)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.halign\", String(newAlign), \"HAlign\"]);\r\n\r\n        this._halign = newAlign;\r\n        this.notifyPropertyChange(\"halign\");\r\n    }\r\n\r\n    get valign() {\r\n        return this._valign;\r\n    }\r\n    set valign(newAlign) {\r\n        if (!_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"VAlign\"].hasOwnProperty(newAlign) && newAlign != null)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.valign\", String(newAlign), \"VAlign\"]);\r\n\r\n        this._valign = newAlign;\r\n        this.notifyPropertyChange(\"valign\");\r\n    }\r\n\r\n    get zValue() {\r\n        return this._zValue;\r\n    }\r\n    set zValue(newValue) {\r\n        if (typeof newValue != \"number\" || newValue < 0)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.zValue\", String(newValue), \"int 0 or greater\"]);\r\n\r\n        this._zValue = newValue;\r\n        this.notifyPropertyChange(\"zValue\");\r\n    }\r\n\r\n    get isFocusable() {\r\n        return this._isFocusable;\r\n    }\r\n    set isFocusable(flag) {\r\n        if (typeof flag != \"boolean\") Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.isFocusable\", String(flag), \"BOOL\"]);\r\n\r\n        this._isFocusable = flag;\r\n    }\r\n\r\n    get focused() {\r\n        return this._focused;\r\n    }\r\n    set focused(flag) {\r\n        if (typeof flag != \"boolean\") Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.focused\", String(flag), \"BOOL\"]);\r\n\r\n        if (flag && !this.isFocusable)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"illogical\", [\"Control.focused\", true, \"Control.isFocusable\", false]);\r\n\r\n        this._focused = flag;\r\n        this.notifyPropertyChange(\"focused\");\r\n    }\r\n\r\n    get localPosition() {\r\n        return this._localPosition;\r\n    }\r\n\r\n    set localPosition(newPosition) {\r\n        if (\r\n            typeof newPosition != \"object\" ||\r\n            newPosition.length != 2 ||\r\n            !Number.isInteger(newPosition[0]) ||\r\n            !Number.isInteger(newPosition[1])\r\n        )\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.localPosition\", String(newPosition), \"LIST of 2 int\"]);\r\n\r\n        this._localPosition = newPosition;\r\n        this.notifyPropertyChange(\"localPosition\");\r\n    }\r\n\r\n    get scrollOffset() {\r\n        return this._scrollOffset;\r\n    }\r\n    set scrollOffset(newValue) {\r\n        if (\r\n            typeof newValue != \"object\" ||\r\n            newValue.length != 2 ||\r\n            !Number.isInteger(newValue[0]) ||\r\n            !Number.isInteger(newValue[1])\r\n        )\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Control.scrollOffset\", String(newValue), \"LIST of 2 int\"]);\r\n\r\n        this._scrollOffset = newValue;\r\n        this.notifyPropertyChange(\"scrollOffset\");\r\n    }\r\n    //#endregion\r\n\r\n    // Overrideable methods\r\n    activate() {\r\n        this.__active = true;\r\n    }\r\n    initialize(generateControl) {\r\n        this._generator = generateControl;\r\n    }\r\n    update(elapsed) {}\r\n    draw(context, offset) {}\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/control.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/dynamicControl.js":
/*!****************************************************!*\
  !*** ./src/lib/datalit/controls/dynamicControl.js ***!
  \****************************************************/
/*! exports provided: DynamicControl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DynamicControl\", function() { return DynamicControl; });\n/* harmony import */ var _control_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./control.js */ \"./src/lib/datalit/controls/control.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events/events.js */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _styling_style_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styling/style.js */ \"./src/lib/datalit/styling/style.js\");\n\r\n\r\n\r\n\r\n\r\nclass DynamicControl extends _control_js__WEBPACK_IMPORTED_MODULE_0__[\"Control\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        // Listen for self-source events to trigger state swaps\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_2__[\"Events\"].register(this, \"mouseenter\", (ev, data) => this.handleMouseEnter(ev, data));\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_2__[\"Events\"].register(this, \"mouseleave\", (ev, data) => this.handleMouseLeave(ev, data));\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_2__[\"Events\"].register(this, \"mousedown\", (ev, data) => this.handleMouseDown(ev, data));\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_2__[\"Events\"].register(this, \"mouseup\", (ev, data) => this.handleMouseUp(ev, data));\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_2__[\"Events\"].register(this, \"mousemove\", (ev, data) => this.handleMouseMove(ev, data));\r\n\r\n        // Internal list of styles, should never be used externally\r\n        this.__styles = [];\r\n    }\r\n\r\n    _generateDefaultStyle() {\r\n        let propertyDefinitions = [];\r\n        for (const [name, metadata] of Object.entries(this.propertyMetadata)) {\r\n            if (!metadata.styleProtected) {\r\n                propertyDefinitions.push([name, this[name]]);\r\n            }\r\n        }\r\n        this.__styles.push(new _styling_style_js__WEBPACK_IMPORTED_MODULE_3__[\"Style\"](this, _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].READY, propertyDefinitions));\r\n        // console.log(\"generated default style: \" + JSON.stringify(this.__styles[0].propertyDefinitions));\r\n    }\r\n\r\n    activate() {\r\n        super.activate();\r\n        if (this.__styles.length > 0) this._initializeDynamicStyles();\r\n    }\r\n\r\n    _initializeDynamicStyles() {\r\n        // console.log(`initializing dynamic interaction for ${this.debugName}`);\r\n\r\n        // Only require a default if another style exists\r\n        this._generateDefaultStyle();\r\n    }\r\n\r\n    addStyle(triggerState, propertyDefinitions) {\r\n        if (this.__styles.findIndex(sty => sty.triggerState == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].READY) == -1)\r\n            this._initializeDynamicStyles();\r\n\r\n        let existingIndex = this.__styles.findIndex(sty => sty.triggerState == triggerState);\r\n        if (existingIndex != -1) {\r\n            // throw new Error(`Style for state ${triggerState} already exists`);\r\n            this.__styles.splice(existingIndex, 1);\r\n        }\r\n\r\n        // For each property not given in this style, set it to the default style\r\n        for (const [name, metadata] of Object.entries(this.propertyMetadata)) {\r\n            if (propertyDefinitions.findIndex(def => def[0] == name) == -1)\r\n                propertyDefinitions.push([name, this[name]]);\r\n        }\r\n\r\n        this.__styles.push(new _styling_style_js__WEBPACK_IMPORTED_MODULE_3__[\"Style\"](this, triggerState, propertyDefinitions));\r\n    }\r\n\r\n    handleMouseEnter(event, data) {\r\n        if (this.state == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].READY) this.state = _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].HOVERED;\r\n    }\r\n    handleMouseLeave(event, data) {\r\n        if (this.state == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].HOVERED || this.state == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].DEPRESSED) {\r\n            this.state = _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].READY;\r\n        }\r\n    }\r\n    handleMouseDown(event, data) {\r\n        if (this.state == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].READY || this.state == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].HOVERED) {\r\n            this.state = _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].DEPRESSED;\r\n        }\r\n    }\r\n    handleMouseUp(event, data) {\r\n        if (this.state == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].DEPRESSED) this.state = _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].HOVERED;\r\n    }\r\n    handleMouseMove(event, data) {}\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/dynamicControl.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/icon.js":
/*!******************************************!*\
  !*** ./src/lib/datalit/controls/icon.js ***!
  \******************************************/
/*! exports provided: Icon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Icon\", function() { return Icon; });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _assetManager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../assetManager.js */ \"./src/lib/datalit/assetManager.js\");\n/* harmony import */ var _control_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./control.js */ \"./src/lib/datalit/controls/control.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../errors.js */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils.js */ \"./src/lib/datalit/utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Icon extends _control_js__WEBPACK_IMPORTED_MODULE_2__[\"Control\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        // Unique properties\r\n        this._sourceRect = null;\r\n        this._imagePath = null;\r\n        this.registerProperty(\"imagePath\", false, true, false);\r\n        this.registerProperty(\"sourceRect\", false, true, false, _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].compareSides);\r\n\r\n        // Store the actual image object\r\n        this._image = null;\r\n    }\r\n\r\n    //#region Unique Properties\r\n    get sourceRect() {\r\n        return this._sourceRect;\r\n    }\r\n    set sourceRect(rect) {\r\n        if (rect && (typeof rect != \"object\" || rect.length != 4))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Icon.sourceRect\", String(rect), \"LIST of 4 int\"]);\r\n\r\n        this._sourceRect = rect;\r\n        this.notifyPropertyChange(\"sourceRect\");\r\n    }\r\n    get imagePath() {\r\n        return this._imagePath;\r\n    }\r\n    set imagePath(newPath) {\r\n        if (newPath == null) return;\r\n\r\n        if (typeof newPath != \"string\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Icon.imagePath\", String(newPath), \"filepath STRING\"]);\r\n\r\n        // Get image based on file path\r\n        this._image = _assetManager_js__WEBPACK_IMPORTED_MODULE_1__[\"Assets\"].getImage(newPath);\r\n\r\n        this._imagePath = newPath;\r\n        this.notifyPropertyChange(\"imagePath\");\r\n    }\r\n    //#endregion\r\n\r\n    draw(context = _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context, offset = [0, 0]) {\r\n        if (this._image) {\r\n            let truePosition = [\r\n                this._arrangedPosition[0] + this.margin[0] + offset[0],\r\n                this._arrangedPosition[1] + this.margin[1] + offset[1]\r\n            ];\r\n\r\n            if (this.sourceRect) {\r\n                context.drawImage(this._image, ...this.sourceRect, ...truePosition, ...this.size);\r\n            } else {\r\n                context.drawImage(this._image, ...truePosition, ...this.size);\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/icon.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/iconButton.js":
/*!************************************************!*\
  !*** ./src/lib/datalit/controls/iconButton.js ***!
  \************************************************/
/*! exports provided: IconButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IconButton\", function() { return IconButton; });\n/* harmony import */ var _section__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./section */ \"./src/lib/datalit/controls/section.js\");\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events/events.js */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icon */ \"./src/lib/datalit/controls/icon.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../enums */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ \"./src/lib/datalit/utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass IconButton extends _section__WEBPACK_IMPORTED_MODULE_0__[\"Section\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        // Composite control declarations\r\n        this.icon = null;\r\n\r\n        // Unique Properties\r\n        this._action = null;\r\n        this._iconOffset = [0, 0];\r\n        this.registerProperty(\"action\", false, false, true);\r\n\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_1__[\"Events\"].attachSource(this, [\"click\"]);\r\n    }\r\n\r\n    initialize(generateControl) {\r\n        super.initialize(generateControl);\r\n\r\n        this.icon = generateControl(\"Icon\");\r\n        this.addChild(this.icon);\r\n\r\n        this.registerProperty(\"iconMargin\", true, true, false, _utils__WEBPACK_IMPORTED_MODULE_4__[\"default\"].compareSides);\r\n        this.registerAliasProperty(\"imagePath\", \"icon\");\r\n        this.registerAliasProperty(\"sourceRect\", \"icon\");\r\n    }\r\n\r\n    handleMouseUp() {\r\n        if (this.state == _enums__WEBPACK_IMPORTED_MODULE_3__[\"ControlState\"].DEPRESSED) this.dispatchEvent(\"click\", this);\r\n\r\n        super.handleMouseUp();\r\n    }\r\n    //#region Property overrides\r\n    get size() {\r\n        return super.size;\r\n    }\r\n    set size(newSize) {\r\n        super.size = newSize;\r\n        // console.log(`updating iconButton size to ${newSize} (${this.icon.margin})`);\r\n        this.icon.size = [\r\n            newSize[0] - this.icon.margin[0] - this.icon.margin[2],\r\n            newSize[1] - this.icon.margin[1] - this.icon.margin[3]\r\n        ];\r\n    }\r\n\r\n    //#region Unique Properties\r\n    get action() {\r\n        return this._action;\r\n    }\r\n    set action(newAction) {\r\n        if (typeof newAction != \"function\")\r\n            datalitError(\"propertySet\", [\"IconButton.action\", String(newAction), \"function\"]);\r\n\r\n        // Remove current action callback if present\r\n        if (this._action) this.removeEventListener(\"click\", this._action);\r\n        this.addEventListener(\"click\", newAction);\r\n\r\n        this._action = newAction;\r\n        this.notifyPropertyChange(\"action\");\r\n    }\r\n\r\n    get iconMargin() {\r\n        return this.icon.margin;\r\n    }\r\n    set iconMargin(newMargin) {\r\n        this.icon.margin = newMargin;\r\n\r\n        // Also update icon size as this is affected by the icon's margin\r\n        this.icon.size = [\r\n            this.size[0] - this.icon.margin[0] - this.icon.margin[2],\r\n            this.size[1] - this.icon.margin[1] - this.icon.margin[3]\r\n        ];\r\n        this.notifyPropertyChange(\"iconMargin\");\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/iconButton.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/label.js":
/*!*******************************************!*\
  !*** ./src/lib/datalit/controls/label.js ***!
  \*******************************************/
/*! exports provided: Label */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Label\", function() { return Label; });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _control_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./control.js */ \"./src/lib/datalit/controls/control.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../errors.js */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils.js */ \"./src/lib/datalit/utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Label extends _control_js__WEBPACK_IMPORTED_MODULE_2__[\"Control\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        // Unique properties\r\n        this._text = \"\";\r\n        this._fontSize = _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].GlobalState.DefaultFontSize;\r\n        this._fontColor = _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Color\"].BLACK;\r\n        this._fontType = \"sans-serif\";\r\n        this.registerProperty(\"text\", false, true, true);\r\n        this.registerProperty(\"fontSize\", true);\r\n        this.registerProperty(\"fontColor\");\r\n        this.registerProperty(\"fontType\", true);\r\n    }\r\n\r\n    _calculateSize() {\r\n        _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.font = this._fontSize + \"pt \" + this._fontType;\r\n        super.size = [Math.floor(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(this._text).width), this._fontSize];\r\n    }\r\n\r\n    //#region Override Method\r\n    activate() {\r\n        super.activate();\r\n\r\n        this._calculateSize();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Unique Properties\r\n    get text() {\r\n        return this._text;\r\n    }\r\n    set text(newText) {\r\n        if (typeof newText != \"string\") Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Label.text\", String(newText), \"string\"]);\r\n\r\n        this._text = newText;\r\n        this._calculateSize();\r\n        this.notifyPropertyChange(\"text\");\r\n    }\r\n\r\n    get fontSize() {\r\n        return this._fontSize;\r\n    }\r\n    set fontSize(size) {\r\n        if (!Number.isInteger(size) || size < 2)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Label.fontSize\", String(size), \"int >= 2\"]);\r\n\r\n        this._fontSize = size;\r\n        this._calculateSize();\r\n        this.notifyPropertyChange(\"fontSize\");\r\n    }\r\n\r\n    get fontColor() {\r\n        return this._fontColor;\r\n    }\r\n    set fontColor(color) {\r\n        if (typeof _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hexColor(color) != \"string\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Label.fontColor\", String(color), \"string\"]);\r\n\r\n        this._fontColor = color;\r\n        this.notifyPropertyChange(\"fontColor\");\r\n    }\r\n\r\n    get fontType() {\r\n        return this._fontType;\r\n    }\r\n    set fontType(font) {\r\n        if (typeof font != \"string\") Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Label.fontType\", String(font), \"string\"]);\r\n\r\n        this._fontType = font;\r\n        this._calculateSize();\r\n        this.notifyPropertyChange(\"fontType\");\r\n    }\r\n    //#endregionfg\r\n\r\n    draw(context = _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context, offset = [0, 0]) {\r\n        context.fillStyle = _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hexColor(this.fontColor);\r\n        context.font = this.fontSize + \"pt \" + this.fontType;\r\n        let truePosition = [\r\n            this._arrangedPosition[0] + this.margin[0] + offset[0],\r\n            this._arrangedPosition[1] + this.fontSize + this.margin[1] + offset[1]\r\n        ];\r\n        // console.log(`draw text ${this.text} at ${truePosition}`);\r\n        context.fillText(this.text, ...truePosition);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/label.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/labelButton.js":
/*!*************************************************!*\
  !*** ./src/lib/datalit/controls/labelButton.js ***!
  \*************************************************/
/*! exports provided: LabelButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LabelButton\", function() { return LabelButton; });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors.js */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _dynamicControl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dynamicControl.js */ \"./src/lib/datalit/controls/dynamicControl.js\");\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events/events.js */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils.js */ \"./src/lib/datalit/utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass LabelButton extends _dynamicControl_js__WEBPACK_IMPORTED_MODULE_3__[\"DynamicControl\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        // Unique properties\r\n        this._action = null;\r\n        this._text = initialProperties.text ? initialProperties.text : \"\";\r\n        this._fontSize = _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].GlobalState.DefaultFontSize;\r\n        this._fontColor = _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Color\"].BLACK;\r\n        this._fontType = \"sans-serif\";\r\n        this.registerProperty(\"action\", false, false, true);\r\n        this.registerProperty(\"text\", true, true, true);\r\n        this.registerProperty(\"fontSize\", true);\r\n        this.registerProperty(\"fontColor\");\r\n        this.registerProperty(\"fontType\", true);\r\n\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].attachSource(this, [\"click\"]);\r\n    }\r\n\r\n    handleMouseUp() {\r\n        if (this.state == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ControlState\"].DEPRESSED) this.dispatchEvent(\"click\", null);\r\n\r\n        super.handleMouseUp();\r\n    }\r\n\r\n    _calculateSize() {\r\n        _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.font = this._fontSize + \"pt \" + this._fontType;\r\n        super.size = [Math.floor(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(this._text).width), this._fontSize];\r\n    }\r\n\r\n    //#region Override Method\r\n    activate() {\r\n        super.activate();\r\n        this._calculateSize();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Override Properties\r\n    get hitRect() {\r\n        return [\r\n            this._arrangedPosition[0] + this.margin[0] - 2,\r\n            this._arrangedPosition[1] + this.margin[1] - 2,\r\n            this.size[0] + 4,\r\n            this.size[1] + 4\r\n        ];\r\n    }\r\n    //#endregion\r\n\r\n    //#region Unique Properties\r\n    get action() {\r\n        return this._action;\r\n    }\r\n    set action(newAction) {\r\n        if (typeof newAction != \"function\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"LabelButton.action\", String(newAction), \"function\"]);\r\n\r\n        // Remove current action callback if present\r\n        if (this._action) this.removeEventListener(\"click\", this._action);\r\n        this.addEventListener(\"click\", newAction);\r\n\r\n        this._action = newAction;\r\n        this.notifyPropertyChange(\"action\");\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n    set text(newText) {\r\n        if (typeof newText != \"string\") Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"LabelButton.text\", String(newText), \"string\"]);\r\n\r\n        this._text = newText;\r\n        this._calculateSize();\r\n        this.notifyPropertyChange(\"text\");\r\n    }\r\n\r\n    get fontSize() {\r\n        return this._fontSize;\r\n    }\r\n    set fontSize(size) {\r\n        if (!Number.isInteger(size) || size < 2)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"LabelButton.fontSize\", String(size), \"int > 2\"]);\r\n\r\n        this._fontSize = size;\r\n        this._calculateSize();\r\n        this.notifyPropertyChange(\"fontSize\");\r\n    }\r\n\r\n    get fontColor() {\r\n        return this._fontColor;\r\n    }\r\n    set fontColor(color) {\r\n        if (typeof _utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].hexColor(color) != \"string\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"LabelButton.fontColor\", String(color), \"string\"]);\r\n\r\n        this._fontColor = color;\r\n        this.notifyPropertyChange(\"fontColor\");\r\n    }\r\n\r\n    get fontType() {\r\n        return this._fontType;\r\n    }\r\n    set fontType(font) {\r\n        if (typeof font != \"string\") Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"LabelButton.fontType\", String(font), \"string\"]);\r\n\r\n        this._fontType = font;\r\n        this._calculateSize();\r\n        this.notifyPropertyChange(\"fontType\");\r\n    }\r\n    //#endregion\r\n\r\n    draw(context = _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context, offset = [0, 0]) {\r\n        context.fillStyle = _utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].hexColor(this.fontColor);\r\n        context.font = this.fontSize + \"pt \" + this.fontType;\r\n        let truePosition = [\r\n            this._arrangedPosition[0] + this.margin[0] + offset[0],\r\n            this._arrangedPosition[1] + this.fontSize + this.margin[1] + offset[1]\r\n        ];\r\n\r\n        context.fillText(this.text, ...truePosition);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/labelButton.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/listSection.js":
/*!*************************************************!*\
  !*** ./src/lib/datalit/controls/listSection.js ***!
  \*************************************************/
/*! exports provided: ListSection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ListSection\", function() { return ListSection; });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _control__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./control */ \"./src/lib/datalit/controls/control.js\");\n/* harmony import */ var _events_events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events/events */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _controls_section_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controls/section.js */ \"./src/lib/datalit/controls/section.js\");\n/* harmony import */ var _controlFactory_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controlFactory.js */ \"./src/lib/datalit/controlFactory.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ListSection extends _controls_section_js__WEBPACK_IMPORTED_MODULE_4__[\"Section\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        // Store template as a property, and track the amount created\r\n        this._templatePath = null;\r\n        this._instanceCount = 0;\r\n        this.registerProperty(\"templatePath\", true, true, true);\r\n        this.registerProperty(\"instanceCount\", true, true, true);\r\n\r\n        // Inform listeners when instance list is refreshed (re-generated)\r\n        _events_events__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].attachSource(this, [\"instancesUpdated\"]);\r\n\r\n        _events_events__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].register(this, \"propertyChanged\", (event, data) => {\r\n            if (data.property == \"templatePath\" || data.property == \"instanceCount\") this.refreshInstances();\r\n        });\r\n    }\r\n\r\n    //region Method Overrides\r\n    activate() {\r\n        super.activate();\r\n        this.refreshInstances();\r\n    }\r\n    addChild(child) {\r\n        throw new Error(\"Cannot add children to ListSection object\");\r\n    }\r\n    removeChild(child) {\r\n        throw new Error(\"Cannot have children in ListSection object\");\r\n    }\r\n    //#endregion\r\n\r\n    // Custom Methods\r\n    refreshInstances() {\r\n        // Clear all current instances\r\n        while (this.children.length > 0) super.removeChild(this.children[0]);\r\n\r\n        for (var i = 0; i < this.instanceCount; i++) {\r\n            // Create new control from template\r\n            // console.log(`generating control from markup (${this.templatePath}): ${i}`);\r\n            super.addChild(_controlFactory_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].generateMarkupObjects(this.templatePath));\r\n        }\r\n\r\n        this.dispatchEvent(\"instancesUpdated\", this);\r\n    }\r\n    // --------------\r\n\r\n    // Unique Properties\r\n    get templatePath() {\r\n        return this._templatePath;\r\n    }\r\n    set templatePath(newPath) {\r\n        if (typeof newPath != \"string\")\r\n            Object(_errors__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"propertySet\", [\"ListSection.templatePath\", String(newPath), \"STRING\"]);\r\n\r\n        this._templatePath = newPath;\r\n        this.notifyPropertyChange(\"templatePath\");\r\n    }\r\n\r\n    get instanceCount() {\r\n        return this._instanceCount;\r\n    }\r\n    set instanceCount(newCount) {\r\n        if (typeof newCount != \"number\" || newCount < 0)\r\n            Object(_errors__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"propertySet\", [\"ListSection.instanceCount\", String(newCount), \"INT 0 or greater\"]);\r\n\r\n        this._instanceCount = newCount;\r\n        this.notifyPropertyChange(\"instanceCount\");\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/listSection.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/page.js":
/*!******************************************!*\
  !*** ./src/lib/datalit/controls/page.js ***!
  \******************************************/
/*! exports provided: Page */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Page\", function() { return Page; });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _control_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./control.js */ \"./src/lib/datalit/controls/control.js\");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events/events.js */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _section_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./section.js */ \"./src/lib/datalit/controls/section.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Keep in mind a Page defaults to ContentDirection.VERTICAL, but this can be changed manually\r\nclass Page extends _section_js__WEBPACK_IMPORTED_MODULE_4__[\"Section\"] {\r\n    constructor() {\r\n        super();\r\n        // console.log(\"Page Constructor - 2\");\r\n        this.isPage = true;\r\n\r\n        // Keep track of focusable controls for Tab cycling, ordered stack\r\n        this._focusStack = [];\r\n        this._focusMousedownRegisters = {};\r\n        this._focusChildrenChangedRegisters = {};\r\n\r\n        // Unique properties\r\n        this._pageState = _enums_js__WEBPACK_IMPORTED_MODULE_5__[\"PageState\"].READY;\r\n        this._focusedControl = null;\r\n        this.registerProperty(\"pageState\", false, false, true);\r\n        this.registerProperty(\"focusedControl\", false, false, true);\r\n\r\n        // Listening for Tab / click input\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].register(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Canvas, \"keydown\", (event, data) => this.handleTab(event, data));\r\n    }\r\n\r\n    //region Method Overrides\r\n    render() {\r\n        this.size = [\r\n            _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Canvas.width - this.margin[0] - this.margin[2],\r\n            _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Canvas.height - this.margin[1] - this.margin[3]\r\n        ];\r\n        this.arrangePosition(this, [this.margin[0], this.margin[1]]);\r\n        super.render();\r\n    }\r\n\r\n    addChild(child) {\r\n        throw new Error(\"Cannot add children to pages Use addSection()\");\r\n    }\r\n    removeChild(child) {\r\n        throw new Error(\"Cannot have children in pages. Use removeSection()\");\r\n    }\r\n    //#endregion\r\n\r\n    handleTab(event, data) {\r\n        if (this._focusStack.length > 0 && data.key == \"Tab\") {\r\n            let newFocus = null;\r\n            if (!this._focusedControl) newFocus = this._focusStack[0];\r\n            else {\r\n                let index = this._focusStack.findIndex(ctrl => ctrl == this._focusedControl);\r\n                if (data.modifiers.shift) {\r\n                    index--;\r\n                    if (index < 0) index = this._focusStack.length - 1;\r\n                } else {\r\n                    index++;\r\n                    if (index >= this._focusStack.length) index = 0;\r\n                }\r\n                newFocus = this._focusStack[index];\r\n            }\r\n\r\n            if (this._focusedControl) this._focusedControl.focused = false;\r\n            this._focusedControl = newFocus;\r\n            this._focusedControl.focused = true;\r\n        }\r\n    }\r\n\r\n    handleMouseDown(event, data) {\r\n        if (event.source != this._focusedControl) {\r\n            if (this._focusedControl) this._focusedControl.focused = false;\r\n            this._focusedControl = event.source;\r\n            this._focusedControl.focused = true;\r\n        }\r\n    }\r\n\r\n    addFocusableControl(ctrl) {\r\n        if (ctrl.isFocusable) {\r\n            this._focusStack.push(ctrl);\r\n            this._focusMousedownRegisters[ctrl] = _events_events_js__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].register(ctrl, \"mousedown\", (event, data) =>\r\n                this.handleMouseDown(event, data)\r\n            );\r\n        }\r\n\r\n        // Subscribe to child tree changes to update stack\r\n        if (ctrl.isArranger) {\r\n            _events_events_js__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].register(ctrl, \"childrenChanged\", (event, data) => this.handleChildChange(event, data));\r\n        }\r\n    }\r\n\r\n    removeFocusableControl(ctrl) {\r\n        let matchIndex = this._focusStack.findIndex(c => c == ctrl);\r\n        if (matchIndex != -1) {\r\n            let match = this._focusStack[matchIndex];\r\n            _events_events_js__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].unregister(match, \"mousedown\", this._focusMousedownRegisters[match]);\r\n            if (match.isArranger)\r\n                _events_events_js__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].unregister(match, \"childrenChanged\", this._focusChildrenChangedRegisters[match]);\r\n            this._focusStack.splice(matchIndex, 1);\r\n        }\r\n    }\r\n\r\n    handleChildChange(event, data) {\r\n        if (data.action == \"add\") {\r\n            // Grab any existing children and add them to the stack\r\n            if (data.child.isArranger) {\r\n                for (let ctrl of data.child.getDescendents()) this.addFocusableControl(ctrl);\r\n            } else {\r\n                this.addFocusableControl(data.child);\r\n            }\r\n        } else if (data.action == \"remove\") {\r\n            if (data.child.isArranger) {\r\n                for (let ctrl of data.child.getDescendents()) this.removeFocusableControl(ctrl);\r\n            } else {\r\n                this.removeFocusableControl(data.child);\r\n            }\r\n        }\r\n\r\n        // console.log(`detected '${data.action}' change from ${event.source} (${data.child})`);\r\n    }\r\n\r\n    addSection(section) {\r\n        if (!section.isArranger) throw new Error(\"Only Sections can be children of a Page\");\r\n\r\n        // Grab any existing children and add them to the stack\r\n        for (let ctrl of section.getDescendents()) this.addFocusableControl(ctrl);\r\n\r\n        super.addChild(section);\r\n    }\r\n\r\n    removeSection(section) {\r\n        // Grab all section children and remove them from the stack\r\n        for (let ctrl of section.getDescendents()) this.removeFocusableControl(ctrl);\r\n\r\n        super.removeChild(section);\r\n    }\r\n\r\n    // Extending classes should implement the following methods\r\n    activate() {\r\n        super.activate();\r\n        this.pageState = _enums_js__WEBPACK_IMPORTED_MODULE_5__[\"PageState\"].ACTIVE;\r\n\r\n        this.scheduleRender();\r\n    }\r\n\r\n    deactivate() {\r\n        this.pageState = _enums_js__WEBPACK_IMPORTED_MODULE_5__[\"PageState\"].READY;\r\n    }\r\n\r\n    // Unique Properties\r\n    get focusedControl() {\r\n        return this._focusedControl;\r\n    }\r\n    set focusedControl(newControl) {\r\n        if (!(newControl instanceof _control_js__WEBPACK_IMPORTED_MODULE_1__[\"Control\"]))\r\n            Object(_errors__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Page.focusedControl\", String(newControl), \"Control class\"]);\r\n        if (!newControl.isFocusable)\r\n            Object(_errors__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Page.focusedControl\", String(newControl), \"focusabled control\"]);\r\n\r\n        this._focusedControl = newControl;\r\n        this.notifyPropertyChange(\"focusedControl\");\r\n    }\r\n\r\n    get pageState() {\r\n        return this._pageState;\r\n    }\r\n    set pageState(newState) {\r\n        if (!_enums_js__WEBPACK_IMPORTED_MODULE_5__[\"PageState\"].hasOwnProperty(newState))\r\n            Object(_errors__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Page.pageState\", String(newState), \"enums.PageState\"]);\r\n\r\n        this._pageState = newState;\r\n        this.notifyPropertyChange(\"pageState\");\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/page.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/rect.js":
/*!******************************************!*\
  !*** ./src/lib/datalit/controls/rect.js ***!
  \******************************************/
/*! exports provided: Rect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Rect\", function() { return Rect; });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _control_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./control.js */ \"./src/lib/datalit/controls/control.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../errors.js */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils.js */ \"./src/lib/datalit/utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Rect extends _control_js__WEBPACK_IMPORTED_MODULE_2__[\"Control\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        // Unique properties\r\n        this._fillColor = _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Color\"].BLACK;\r\n        this._borderColor = null;\r\n        this._borderThickness = [0, 0, 0, 0];\r\n        this.registerProperty(\"fillColor\");\r\n        this.registerProperty(\"borderColor\");\r\n        this.registerProperty(\"borderThickness\", false, true, false, _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].compareSides);\r\n    }\r\n\r\n    //#region Unique Properties\r\n    get fillColor() {\r\n        return this._fillColor;\r\n    }\r\n    set fillColor(newColor) {\r\n        if (typeof _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hexColor(newColor) != \"string\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Rect.fillColor\", String(newColor), \"string\"]);\r\n\r\n        this._fillColor = newColor;\r\n        this.notifyPropertyChange(\"fillColor\");\r\n    }\r\n\r\n    get borderColor() {\r\n        return this._borderColor;\r\n    }\r\n    set borderColor(newColor) {\r\n        if (typeof _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hexColor(newColor) != \"string\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Rect.borderColor\", String(newColor), \"string\"]);\r\n\r\n        this._borderColor = newColor;\r\n        this.notifyPropertyChange(\"borderColor\");\r\n    }\r\n\r\n    get borderThickness() {\r\n        return this._borderThickness;\r\n    }\r\n    set borderThickness(thickness) {\r\n        if (typeof thickness == \"number\") {\r\n            if (!Number.isInteger(thickness) || thickness < 0)\r\n                Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Rect.borderThickness\", String(thickness), \"int or LIST of 4 int\"]);\r\n            this._borderThickness = [thickness, thickness, thickness, thickness];\r\n        } else {\r\n            if (typeof thickness != \"object\" || thickness.length != 4)\r\n                Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Rect.borderThickness\", String(thickness), \"int LIST of 4 int\"]);\r\n            for (let i = 0; i < 4; i++)\r\n                if (!Number.isInteger(thickness[i]) && thickness[i] >= 0)\r\n                    Object(_errors_js__WEBPACK_IMPORTED_MODULE_3__[\"datalitError\"])(\"propertySet\", [\"Rect.borderThickness\", String(thickness), \"int LIST of 4 int\"]);\r\n\r\n            this._borderThickness = thickness;\r\n        }\r\n        this.notifyPropertyChange(\"borderThickness\");\r\n    }\r\n    //#endregion\r\n\r\n    draw(context = _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context, offset = [0, 0]) {\r\n        context.fillStyle = _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hexColor(this.fillColor);\r\n        let truePosition = [\r\n            this._arrangedPosition[0] + this.margin[0] + offset[0],\r\n            this._arrangedPosition[1] + this.margin[1] + offset[1]\r\n        ];\r\n        // console.log(`drawing rect at ${truePosition} (${this.size}) - ${this.fillColor}`);\r\n        context.fillRect(...truePosition, ...this.size);\r\n\r\n        if (!this.borderColor) return;\r\n\r\n        // Draw borders\r\n        context.fillStyle = _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hexColor(this.borderColor);\r\n        const bt = this.borderThickness;\r\n        if (bt[0] != 0) {\r\n            let size = [bt[0], this.size[1]];\r\n            context.fillRect(...truePosition, ...size);\r\n        }\r\n        if (bt[1] != 0) {\r\n            let size = [this.size[0], bt[1]];\r\n            context.fillRect(...truePosition, ...size);\r\n        }\r\n        if (bt[2] != 0) {\r\n            let pos = [truePosition[0] + this.size[0] - bt[2], truePosition[1]];\r\n            let size = [bt[2], this.size[1]];\r\n            context.fillRect(...pos, ...size);\r\n        }\r\n        if (bt[3] != 0) {\r\n            let pos = [truePosition[0], truePosition[1] + this.size[1] - bt[3]];\r\n            let size = [this.size[0], bt[3]];\r\n            context.fillRect(...pos, ...size);\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/rect.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/scrollSection.js":
/*!***************************************************!*\
  !*** ./src/lib/datalit/controls/scrollSection.js ***!
  \***************************************************/
/*! exports provided: ScrollSection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScrollSection\", function() { return ScrollSection; });\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors.js */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _section__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./section */ \"./src/lib/datalit/controls/section.js\");\n/* harmony import */ var _events_events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events/events */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _iconButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./iconButton */ \"./src/lib/datalit/controls/iconButton.js\");\n/* harmony import */ var _rect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./rect */ \"./src/lib/datalit/controls/rect.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst WHEEL_FACTOR = 6;\r\nconst BUTTON_CLICK_DISTANCE = 20;\r\nconst BAR_SIZE = 18;\r\nconst BUTTON_HEIGHT = 22;\r\nconst INDICATOR_BAR_SIZE = 84;\r\n\r\nclass ScrollSection extends _section__WEBPACK_IMPORTED_MODULE_3__[\"Section\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        // --- DEBUG ---\r\n        this.contentDirection = _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ContentDirection\"].HORIZONTAL;\r\n        // -------------\r\n\r\n        // Unique Properties\r\n        this._horizontalScrollable = true;\r\n        this._verticalScrollable = true;\r\n        this._verticalScrollLocation = 0;\r\n        this._horizontalScrollLocation = 0;\r\n        this.registerProperty(\"horizontalScrollable\", true, true, true);\r\n        this.registerProperty(\"verticalScrollable\", true, true, true);\r\n        this.registerProperty(\"verticalScrollLocation\", false, true, true);\r\n        this.registerProperty(\"horizontalScrollLocation\", false, true, true);\r\n\r\n        // Keep our own Canvas element to draw onto the main canvas\r\n        this._selfCanvas = document.createElement(\"canvas\");\r\n        this._selfContext = this._selfCanvas.getContext(\"2d\");\r\n\r\n        // Listen for scroll events and update accordingly\r\n        _events_events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].register(this, \"wheel\", (ev, data) => this.handleScroll(ev, data));\r\n\r\n        // Update indicatorRect as necessary\r\n        _events_events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].register(this, \"propertyChanged\", (ev, data) => {\r\n            if (data.property === \"horizontalScrollLocation\" || data.property === \"verticalScrollLocation\") {\r\n                this._updateScrollbars();\r\n            }\r\n        });\r\n    }\r\n\r\n    initialize(generateControl) {\r\n        super.initialize(generateControl);\r\n\r\n        // Create content section to hold the actual scrollable content\r\n        this._contentSection = generateControl(\"Section\", {\r\n            contentDirection: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ContentDirection\"].VERTICAL,\r\n            debugName: \"contentSection\"\r\n        });\r\n        super.addChild(this._contentSection);\r\n\r\n        // Create our scroll bar(s)\r\n        this.verticalScrollbar = this.buildVerticalScrollbar(generateControl);\r\n        super.addChild(this.verticalScrollbar);\r\n\r\n        // Alias property definitions\r\n        this.registerAliasProperty(\"verticalScrollbarVisible\", \"verticalScrollbar\", \"visible\", true);\r\n\r\n        // Listen for updates to _contentSection's size, so we can match our internal Canvas' size\r\n        _events_events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].register(this._contentSection, \"propertyChanged\", (ev, data) => {\r\n            if (data.property === \"size\") {\r\n                console.log(`matching canvas to new size ${data.newValue} (${this._contentSection.size[1]})`);\r\n                this._selfCanvas.width = data.newValue[0];\r\n                this._selfCanvas.height = data.newValue[1];\r\n\r\n                this._updateScrollbars();\r\n            }\r\n        });\r\n\r\n        // Update scrollbar visibility and indicator location when children change\r\n        _events_events__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].register(this, \"childrenChanged\", (ev, data) => {\r\n            this._updateScrollbars();\r\n        });\r\n    }\r\n\r\n    _updateScrollbars() {\r\n        // Add or remove scroll bars based on virtual sizes\r\n        if (this.verticalScrollbar.isChildOf(this) && this.getVirtualHeight() == this._contentSection.size[1]) {\r\n            super.removeChild(this.verticalScrollbar);\r\n            return;\r\n        } else if (!this.verticalScrollbar.isChildOf(this) && this.getVirtualHeight() > this._contentSection.size[1])\r\n            super.addChild(this.verticalScrollbar);\r\n\r\n        // Calculate new vertical scroll bar location\r\n        let scrollPct = Math.round(\r\n            (this.verticalScrollLocation / (this.getVirtualHeight() - this._contentSection.size[1])) * 100\r\n        );\r\n        let totalRange = this.verticalScrollbar.height - INDICATOR_BAR_SIZE - BUTTON_HEIGHT * 2;\r\n        let targetMargin = Math.floor((scrollPct / 100) * totalRange) || 0;\r\n\r\n        this.verticalScrollbar.indicatorRect.margin = [0, targetMargin, 0, 0];\r\n\r\n        // console.log(`scrollPct: ${scrollPct}`);\r\n        // console.log(`targetMargin: ${this.verticalScrollbar.indicatorRect.margin}`);\r\n    }\r\n\r\n    buildVerticalScrollbar(generateControl) {\r\n        let scrollbar = generateControl(\"Section\", {\r\n            contentDirection: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ContentDirection\"].VERTICAL,\r\n            halign: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"HAlign\"].RIGHT,\r\n            hsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].FIXED, BAR_SIZE],\r\n            vsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].FILL, null],\r\n            backgroundColor: \"bbbbbb\",\r\n            debugName: \"verticalScrollbar\"\r\n        });\r\n\r\n        let buttonStyles = { HOVERED: [[\"backgroundColor\", \"999999\"]], DEPRESSED: [[\"backgroundColor\", \"777777\"]] };\r\n\r\n        let upButton = generateControl(\r\n            \"IconButton\",\r\n            {\r\n                imagePath: \"up-filled\",\r\n                iconMargin: [3, 2, 3, 2],\r\n                valign: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"VAlign\"].TOP,\r\n                vsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].FIXED, BUTTON_HEIGHT],\r\n                halign: null,\r\n                hsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].FILL, null],\r\n                action: btn =>\r\n                    (this.verticalScrollLocation = Math.max(this.verticalScrollLocation - BUTTON_CLICK_DISTANCE, 0)),\r\n                debugName: \"upButton\"\r\n            },\r\n            buttonStyles,\r\n            null\r\n        );\r\n        scrollbar.addChild(upButton);\r\n\r\n        let downButton = generateControl(\r\n            \"IconButton\",\r\n            {\r\n                imagePath: \"down-filled\",\r\n                iconMargin: [3, 2, 3, 2],\r\n                valign: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"VAlign\"].BOTTOM,\r\n                vsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].FIXED, BUTTON_HEIGHT],\r\n                halign: null,\r\n                hsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].FILL, null],\r\n                action: btn => {\r\n                    let newLocation = Math.min(\r\n                        this.verticalScrollLocation + BUTTON_CLICK_DISTANCE,\r\n                        this.getVirtualHeight() - this.size[1]\r\n                    );\r\n                    this.verticalScrollLocation = newLocation;\r\n                },\r\n                debugName: \"downButton\"\r\n            },\r\n            buttonStyles,\r\n            null\r\n        );\r\n        scrollbar.addChild(downButton);\r\n\r\n        scrollbar.indicatorRect = generateControl(\"Section\", {\r\n            margin: 0,\r\n            valign: _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"VAlign\"].TOP,\r\n            vsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_2__[\"SizeTargetType\"].FIXED, INDICATOR_BAR_SIZE],\r\n            backgroundColor: \"dddddd\",\r\n            debugName: \"indicatorRect\"\r\n        });\r\n        scrollbar.addChild(scrollbar.indicatorRect);\r\n\r\n        return scrollbar;\r\n    }\r\n\r\n    handleScroll(ev, data) {\r\n        let ndistance = data.distance * WHEEL_FACTOR;\r\n        if (data.direction === \"horizontal\") {\r\n            this.horizontalScrollLocation =\r\n                data.distance > 0\r\n                    ? Math.min(this.horizontalScrollLocation + ndistance, this.getVirtualWidth() - this.size[0])\r\n                    : Math.max(this.horizontalScrollLocation + ndistance, 0);\r\n        } else if (data.direction === \"vertical\") {\r\n            this.verticalScrollLocation =\r\n                data.distance > 0\r\n                    ? Math.min(this.verticalScrollLocation + ndistance, this.getVirtualHeight() - this.size[1])\r\n                    : Math.max(this.verticalScrollLocation + ndistance, 0);\r\n        }\r\n    }\r\n\r\n    getVirtualHeight() {\r\n        if (this._contentSection.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ContentDirection\"].VERTICAL) {\r\n            return Math.max(\r\n                this._contentSection.size[1],\r\n                this._contentSection.children.reduce((val, item) => val + item.viewHeight, 0)\r\n            );\r\n        } else if (this._contentSection.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ContentDirection\"].HORIZONTAL) {\r\n            return this._contentSection.size[1];\r\n        }\r\n    }\r\n\r\n    getVirtualWidth() {\r\n        if (this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ContentDirection\"].HORIZONTAL) {\r\n            return Math.max(\r\n                this._contentSection.size[0],\r\n                this._contentSection.children.reduce((val, item) => val + item.viewWidth, 0)\r\n            );\r\n        } else if (this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_2__[\"ContentDirection\"].VERTICAL) {\r\n            return this._contentSection.size[0];\r\n        }\r\n    }\r\n\r\n    //#region Method overrides\r\n    addChild(newChild) {\r\n        this._contentSection.children.push(newChild);\r\n        this._contentSection.orderedChildren.push(newChild);\r\n\r\n        // Use this with care\r\n        newChild.__parent = this;\r\n\r\n        // Alert subscribers to change in children\r\n        this.dispatchEvent(\"childrenChanged\", { action: \"add\", child: newChild });\r\n\r\n        this.scheduleRender();\r\n    }\r\n    removeChild(child) {\r\n        if (!child.isChildOf(this._contentSection)) return;\r\n\r\n        this._contentSection.children.splice(this._contentSection.children.indexOf(child), 1);\r\n        this._contentSection.orderedChildren.splice(this._contentSection.orderedChildren.indexOf(child), 1);\r\n\r\n        // Use this with care\r\n        child.__parent = null;\r\n\r\n        // Handle edge case where the removing of this child makes current scroll location invalid\r\n        this.verticalScrollLocation = Math.min(\r\n            this.verticalScrollLocation,\r\n            this.getVirtualHeight() - this._contentSection.size[1]\r\n        );\r\n\r\n        // Alert subscribers to change in children\r\n        this.dispatchEvent(\"childrenChanged\", { action: \"remove\", child: child });\r\n\r\n        this.scheduleRender();\r\n    }\r\n\r\n    draw(context = _app__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context, offset = [0, 0]) {\r\n        // Clear content canvas before drawing\r\n        this._selfContext.clearRect(0, 0, this._selfCanvas.width, this._selfCanvas.height);\r\n\r\n        // Same as super.draw()\r\n        if (this.background) this.background.draw(context, offset);\r\n\r\n        // Draw scroll bar sections normally\r\n        if (this.verticalScrollbar.isChildOf(this) && this.verticalScrollbar.visible)\r\n            this.verticalScrollbar.draw(context, offset);\r\n        if (this.horizontalScrollbar && this.horizontalScrollbar.visible)\r\n            this.horizontalScrollbar.draw(context, offset);\r\n\r\n        let positionOffset = [\r\n            -this._arrangedPosition[0] - this.margin[0] - offset[0],\r\n            -this._arrangedPosition[1] - this.margin[1] - offset[1]\r\n        ];\r\n\r\n        // Draw contentSection to separated canvas, providing the scrollLocation offsets\r\n        this._contentSection.draw(this._selfContext, [\r\n            positionOffset[0] - this.horizontalScrollLocation,\r\n            positionOffset[1] - this.verticalScrollLocation\r\n        ]);\r\n        for (let child of this._contentSection.children) {\r\n            child.scrollOffset = [this.horizontalScrollLocation, this.verticalScrollLocation];\r\n        }\r\n\r\n        // After all children are drawn to this canvas, draw our canvas onto parent canvas\r\n        let scrollX = this.margin[0] + this._arrangedPosition[0] + offset[0];\r\n        let scrollY = this.margin[1] + this._arrangedPosition[1] + offset[1];\r\n        context.drawImage(this._selfCanvas, scrollX, scrollY);\r\n        // console.log(\r\n        //     `draw self canvas at (${scrollX}, ${scrollY}) with size (${this._selfCanvas.width}, ${this._selfCanvas.height})`\r\n        // );\r\n    }\r\n\r\n    //#region Property overrides\r\n    get size() {\r\n        return super.size;\r\n    }\r\n    set size(newSize) {\r\n        super.size = newSize;\r\n        if (this.background) this.background.size = newSize;\r\n\r\n        // This render can now determine the size and alignment of nested sections and elements\r\n        this.scheduleRender();\r\n    }\r\n\r\n    get backgroundColor() {\r\n        return super.backgroundColor;\r\n    }\r\n    set backgroundColor(newColor) {\r\n        super.backgroundColor = newColor;\r\n        if (this._contentSection) this._contentSection.backgroundColor = newColor;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Unique property definitions\r\n    get horizontalScrollLocation() {\r\n        return this._horizontalScrollLocation;\r\n    }\r\n    set horizontalScrollLocation(newLocation) {\r\n        if (!Number.isInteger(newLocation))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"propertySet\", [\"ScrollSection.horizontalScrollLocation\", String(newLocation), \"INT\"]);\r\n        if (newLocation > this.getVirtualWidth() - this._contentSection.size[0] || newLocation < 0)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"propertySet\", [\r\n                \"ScrollSection.horizontalScrollLocation\",\r\n                String(newLocation),\r\n                `< ${this.getVirtualWidth() - this._contentSection.size[0]} && > 0`\r\n            ]);\r\n\r\n        this._horizontalScrollLocation = newLocation;\r\n        this.notifyPropertyChange(\"horizontalScrollLocation\");\r\n    }\r\n    get verticalScrollLocation() {\r\n        return this._verticalScrollLocation;\r\n    }\r\n    set verticalScrollLocation(newLocation) {\r\n        if (!Number.isInteger(newLocation))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"propertySet\", [\"ScrollSection.verticalScrollLocation\", String(newLocation), \"INT\"]);\r\n        if (newLocation > this.getVirtualHeight() - this._contentSection.size[1] || newLocation < 0)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"propertySet\", [\r\n                \"ScrollSection.verticalScrollLocation\",\r\n                String(newLocation),\r\n                `< ${this.getVirtualHeight() - this._contentSection.size[1]} && > 0`\r\n            ]);\r\n\r\n        this._verticalScrollLocation = newLocation;\r\n        this.notifyPropertyChange(\"verticalScrollLocation\");\r\n    }\r\n    get horizontalScrollable() {\r\n        return this._horizontalScrollable;\r\n    }\r\n    set horizontalScrollable(flag) {\r\n        if (typeof flag != \"boolean\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"propertySet\", [\"ScrollSection.horizontalScrollable\", String(flag), \"BOOL\"]);\r\n\r\n        this._horizontalScrollable = flag;\r\n        this.notifyPropertyChange(\"horizontalScrollable\");\r\n    }\r\n\r\n    get verticalScrollable() {\r\n        return this._verticalScrollable;\r\n    }\r\n    set verticalScrollable(flag) {\r\n        if (typeof flag != \"boolean\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"propertySet\", [\"ScrollSection.verticalScrollable\", String(flag), \"BOOL\"]);\r\n\r\n        this._verticalScrollable = flag;\r\n        this.notifyPropertyChange(\"verticalScrollable\");\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/scrollSection.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/section.js":
/*!*********************************************!*\
  !*** ./src/lib/datalit/controls/section.js ***!
  \*********************************************/
/*! exports provided: Section */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Section\", function() { return Section; });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors.js */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _dynamicControl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dynamicControl.js */ \"./src/lib/datalit/controls/dynamicControl.js\");\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events/events.js */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _rect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./rect.js */ \"./src/lib/datalit/controls/rect.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils.js */ \"./src/lib/datalit/utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Section extends _dynamicControl_js__WEBPACK_IMPORTED_MODULE_3__[\"DynamicControl\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        this.childEventRegisters = {}; // Keep track of child event registrations\r\n        this.isArranger = true;\r\n        this.requiresRender = true;\r\n        this.children = [];\r\n        this.orderedChildren = []; // For zValue drawing\r\n\r\n        // Control property defaults\r\n        this._halign = null;\r\n        this._valign = null;\r\n\r\n        // Unique property definitions\r\n        this._contentDirection = _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].VERTICAL;\r\n        this._backgroundColor = _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Color\"].TRANSPARENT;\r\n        this._borderColor = _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Color\"].BLACK;\r\n        this._borderThickness = [0, 0, 0, 0];\r\n        this._hsizeTarget = [_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FILL, 0];\r\n        this._vsizeTarget = [_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FILL, 0];\r\n        this.registerProperty(\"backgroundColor\");\r\n        this.registerProperty(\"borderColor\");\r\n        this.registerProperty(\"borderThickness\", false, true, false, _utils_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].compareSides);\r\n        this.registerProperty(\"hsizeTarget\", true, true, false, _utils_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].compareSides);\r\n        this.registerProperty(\"vsizeTarget\", true, true, false, _utils_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].compareSides);\r\n\r\n        // Composite control definitions\r\n        this.background = null;\r\n\r\n        // Attach to Event system as a source for 'childrenChanged' events\r\n        this.eventListeners.childrenChanged = [];\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].attachSource(this, [\"childrenChanged\"]);\r\n    }\r\n\r\n    initialize(generateControl) {\r\n        super.initialize(generateControl);\r\n\r\n        // This is not an official child of Section, because it does not factor into alignment, and always FILLs\r\n        this.background = generateControl(\"Rect\", {\r\n            borderThickness: this.borderThickness,\r\n            borderColor: this.borderColor,\r\n            fillColor: this.backgroundColor\r\n        });\r\n\r\n        // Ensures background isn't drawn twice\r\n        this.background.__parent = this;\r\n    }\r\n\r\n    isParentOf(child) {\r\n        return this.children.indexOf(child) != -1;\r\n    }\r\n\r\n    getDescendents(includeSelf = true) {\r\n        let kids = includeSelf ? [this] : [];\r\n        for (let ctrl of this.children) {\r\n            if (ctrl.isArranger) kids = kids.concat(ctrl.getDescendents());\r\n            else kids.push(ctrl);\r\n        }\r\n        return kids;\r\n    }\r\n\r\n    scheduleRender() {\r\n        this.requiresRender = true;\r\n    }\r\n\r\n    prerenderCheck(allocatedSpace) {\r\n        // ContentDirection.FREE is always viable, just might not make sense\r\n        if (this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].FREE) return;\r\n\r\n        let alignProp = this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].HORIZONTAL ? \"halign\" : \"valign\";\r\n        let sizeTargetProp = this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].HORIZONTAL ? \"hsizeTarget\" : \"vsizeTarget\";\r\n        // Cannot have both Align.CENTER and SizeTargetType.FILL in the same parent\r\n        let fills = this.children.filter(ch => ch.isArranger && ch[sizeTargetProp][0] === _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FILL);\r\n        let centers = this.children.filter(ch => ch[alignProp] === _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"HAlign\"].CENTER);\r\n        if (fills.length > 0 && centers.length > 0)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"invalidAlignment\", [this.debugName, \"Cannot have CENTER + FILL in same axis\"]);\r\n\r\n        // align can't be null when SizeTargetType != FILL\r\n        if (this.hsizeTarget[0] !== _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FILL && this.halign == null)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"invalidAlignment\", [\r\n                this.debugName,\r\n                `Must have halign (${this.halign}) unless Type (${this.hsizeTarget[0]}) is FILL`\r\n            ]);\r\n        if (this.vsizeTarget[0] !== _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FILL && this.valign == null)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"invalidAlignment\", [this.debugName, \"Must have valign unless Type is FILL\"]);\r\n\r\n        // align must be null when SizeTargetType == FILL\r\n        if (this.hsizeTarget[0] === _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FILL && this.halign !== null)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"invalidAlignment\", [this.debugName, \"halign must be null when Type is FILL\"]);\r\n        if (this.vsizeTarget[0] === _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FILL && this.valign !== null)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"invalidAlignment\", [this.debugName, \"valign must be null when Type is FILL\"]);\r\n\r\n        // Multiple CENTER children cannot have a combined width/height of greater than allocatedSpace\r\n        if (centers.length > 0) {\r\n            if (this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].HORIZONTAL) {\r\n                let combinedWidth = 0;\r\n                for (let ctrl of centers)\r\n                    combinedWidth += ctrl.isArranger ? ctrl.requestWidth(allocatedSpace[0]) : ctrl.viewWidth;\r\n                if (combinedWidth > allocatedSpace[0])\r\n                    Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"invalidAlignment\", [\r\n                        this.debugName,\r\n                        \"Cannot have CENTER children with width sum > allocatedSpace[0]\"\r\n                    ]);\r\n            } else if (this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].VERTICAL) {\r\n                let combinedHeight = 0;\r\n                for (let ctrl of centers)\r\n                    combinedHeight += ctrl.isArranger ? ctrl.requestHeight(allocatedSpace[1]) : ctrl.viewHeight;\r\n                if (combinedHeight > allocatedSpace[1]) {\r\n                    console.log(`combinedHeight: ${combinedHeight} | allocatedSpace[1]: ${allocatedSpace[1]}`);\r\n                    Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"invalidAlignment\", [\r\n                        this.debugName,\r\n                        \"Cannot have CENTER children with height sum > allocatedSpace[1]\"\r\n                    ]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        // console.log(`rendering section '${this.debugName}' (${this.children.length})`);\r\n        if (this.children.length < 1) {\r\n            this.prerenderCheck(null);\r\n            this.requiresRender = false;\r\n            return;\r\n        }\r\n\r\n        // If page is being rendered, redraw everything\r\n        if (this.isPage) _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].GlobalState.RedrawRequired = true;\r\n        else _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].addDrawTarget(this);\r\n\r\n        // Designate the space available for child Controls\r\n        let origins = [\r\n            this._arrangedPosition[0] + this.margin[0],\r\n            this._arrangedPosition[1] + this.margin[1],\r\n            this._arrangedPosition[0] + this.margin[0] + this.size[0],\r\n            this._arrangedPosition[1] + this.margin[1] + this.size[1]\r\n        ];\r\n\r\n        // Ensure this Section has valid properties for arrangement\r\n        let availableSpace = [origins[2] - origins[0], origins[3] - origins[1]];\r\n        this.prerenderCheck(availableSpace);\r\n\r\n        // ContentDirection.FREE allocation is simple\r\n        if (this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].FREE) {\r\n            for (let child of this.children) {\r\n                child.arrangePosition(this, [origins[0] + child.localPosition[0], origins[1] + child.localPosition[1]]);\r\n            }\r\n            this.requiresRender = false;\r\n            return;\r\n        }\r\n\r\n        // Using available space, set position and size of direct children\r\n        let fillChildren = null;\r\n        let centeredChildren = null;\r\n        let alignedChildren = null;\r\n        if (this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].HORIZONTAL) {\r\n            // Manage children in order: ALIGN -> CENTER -> FILL\r\n            alignedChildren = this.children.filter(\r\n                ch => ch.halign == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"HAlign\"].CENTER || ch.halign == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"HAlign\"].LEFT || ch.halign == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"HAlign\"].RIGHT\r\n            );\r\n            centeredChildren = this.children.filter(child => child.halign == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"HAlign\"].CENTER);\r\n            fillChildren = this.children.filter(ch => ch.isArranger && ch.hsizeTarget[0] == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FILL);\r\n\r\n            // Split up x-axis among aligned children\r\n            for (let child of alignedChildren) {\r\n                // Re-calculated after each allocation\r\n                let remainingSpace = [origins[2] - origins[0], origins[3] - origins[1]];\r\n\r\n                // If the child is an Arranger, gather and allocate its width specification\r\n                if (child.isArranger) {\r\n                    child.viewWidth = child.requestWidth(remainingSpace[0]);\r\n                    child.viewHeight = child.requestHeight(remainingSpace[1]);\r\n                }\r\n\r\n                switch (child.halign) {\r\n                    case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"HAlign\"].LEFT:\r\n                        child.arrangePosition(this, [origins[0], -1]);\r\n                        origins[0] += child.viewWidth;\r\n                        break;\r\n                    case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"HAlign\"].RIGHT:\r\n                        child.arrangePosition(this, [origins[2] - child.viewWidth, -1]);\r\n                        origins[2] -= child.viewWidth;\r\n                        break;\r\n                }\r\n            }\r\n\r\n            // Now arrange center or fill children (all FILL children are Arrangers)\r\n            if (fillChildren.length > 0) {\r\n                let remainingSpace = [origins[2] - origins[0], origins[3] - origins[1]];\r\n                // Evenly divide remaining width\r\n                let splitWidth = Math.floor(remainingSpace[0] / fillChildren.length);\r\n                let remainder = remainingSpace[0] - splitWidth * fillChildren.length;\r\n\r\n                for (let child of fillChildren) {\r\n                    child.viewHeight = child.requestHeight(remainingSpace[1]);\r\n\r\n                    let trueWidth = splitWidth;\r\n                    if (remainder > 0) {\r\n                        trueWidth = splitWidth + 1;\r\n                        remainder -= 0;\r\n                    }\r\n\r\n                    child.viewWidth = trueWidth;\r\n                    child.arrangePosition(this, [origins[0], -1]);\r\n                    origins[0] += trueWidth;\r\n                }\r\n            } else if (centeredChildren.length > 0) {\r\n                let remainingSpace = [origins[2] - origins[0], origins[3] - origins[1]];\r\n                let widthSum = 0;\r\n                for (let child of centeredChildren) {\r\n                    if (child.isArranger) {\r\n                        child.viewWidth = child.requestWidth(remainingSpace[0]);\r\n                        child.viewHeight = child.requestHeight(remainingSpace[1]);\r\n                    }\r\n                    widthSum += child.viewWidth;\r\n                }\r\n                let space = remainingSpace[0] - widthSum;\r\n                origins[0] += Math.floor(space / 2);\r\n                for (let child of centeredChildren) {\r\n                    child.arrangePosition(this, [origins[0], -1]);\r\n                    origins[0] += child.viewWidth;\r\n                }\r\n            }\r\n\r\n            // Vertical alignment of children in a ContentDirection.HORIZONTAL parent is isolated\r\n            for (let child of this.children) {\r\n                switch (child.valign) {\r\n                    case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"VAlign\"].CENTER:\r\n                        let sp = Math.max(this.viewHeight - this.margin[1] - this.margin[3] - child.viewHeight, 0);\r\n                        child.arrangePosition(this, [-1, origins[1] + Math.floor(sp / 2)]);\r\n                        break;\r\n                    case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"VAlign\"].TOP:\r\n                        child.arrangePosition(this, [-1, origins[1]]);\r\n                        break;\r\n                    case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"VAlign\"].BOTTOM:\r\n                        child.arrangePosition(this, [-1, origins[3] - child.viewHeight]);\r\n                        break;\r\n                    // Null valign means SizeTargetType == FILL\r\n                    case null:\r\n                        child.arrangePosition(this, [-1, origins[1]]);\r\n                        break;\r\n                }\r\n            }\r\n        } else if (this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].VERTICAL) {\r\n            // Manage children in order: ALIGN -> CENTER -> FILL\r\n            alignedChildren = this.children.filter(\r\n                ch => ch.valign == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"VAlign\"].CENTER || ch.valign == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"VAlign\"].TOP || ch.valign == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"VAlign\"].BOTTOM\r\n            );\r\n            centeredChildren = this.children.filter(child => child.valign == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"VAlign\"].CENTER);\r\n            fillChildren = this.children.filter(ch => ch.isArranger && ch.vsizeTarget[0] == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FILL);\r\n\r\n            // Split up y-axis among aligned children\r\n            for (let child of alignedChildren) {\r\n                // Re-calculated after each allocation\r\n                let remainingSpace = [origins[2] - origins[0], origins[3] - origins[1]];\r\n\r\n                // If the child is an Arranger, gather and allocate its width specification\r\n                if (child.isArranger) {\r\n                    child.viewWidth = child.requestWidth(remainingSpace[0]);\r\n                    child.viewHeight = child.requestHeight(remainingSpace[1]);\r\n                }\r\n\r\n                switch (child.valign) {\r\n                    case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"VAlign\"].TOP:\r\n                        child.arrangePosition(this, [-1, origins[1]]);\r\n                        origins[1] += child.viewHeight;\r\n                        break;\r\n                    case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"VAlign\"].BOTTOM:\r\n                        child.arrangePosition(this, [-1, origins[3] - child.viewHeight]);\r\n                        origins[3] -= child.viewHeight;\r\n                        break;\r\n                }\r\n            }\r\n\r\n            // Now arrange center or fill children (all FILL children are Arrangers)\r\n            if (fillChildren.length > 0) {\r\n                let remainingSpace = [origins[2] - origins[0], origins[3] - origins[1]];\r\n                // Evenly divide remaining height\r\n                let splitHeight = Math.floor(remainingSpace[1] / fillChildren.length);\r\n\r\n                for (let child of fillChildren) {\r\n                    child.viewHeight = splitHeight;\r\n                    child.viewWidth = child.requestWidth(remainingSpace[0]);\r\n                    child.arrangePosition(this, [-1, origins[1]]);\r\n                    origins[1] += splitHeight;\r\n                }\r\n            } else if (centeredChildren.length > 0) {\r\n                let remainingSpace = [origins[2] - origins[0], origins[3] - origins[1]];\r\n                let heightSum = 0;\r\n                for (let child of centeredChildren) {\r\n                    if (child.isArranger) {\r\n                        child.viewWidth = child.requestWidth(remainingSpace[0]);\r\n                        child.viewHeight = child.requestHeight(remainingSpace[1]);\r\n                    }\r\n                    heightSum += child.viewHeight;\r\n                }\r\n                let space = remainingSpace[1] - heightSum;\r\n                origins[1] += Math.floor(space / 2);\r\n                for (let child of centeredChildren) {\r\n                    child.arrangePosition(this, [-1, origins[1]]);\r\n                    origins[1] += child.viewHeight;\r\n                }\r\n            }\r\n\r\n            // Horizontal alignment of children in a ContentDirection.VERTICAL parent is isolated\r\n            for (let child of this.children) {\r\n                switch (child.halign) {\r\n                    case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"HAlign\"].CENTER:\r\n                        let space = Math.max(this.viewWidth - this.margin[0] - this.margin[2] - child.viewWidth, 0);\r\n                        child.arrangePosition(this, [origins[0] + Math.floor(space / 2), -1]);\r\n                        break;\r\n                    case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"HAlign\"].LEFT:\r\n                        child.arrangePosition(this, [origins[0], -1]);\r\n                        break;\r\n                    case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"HAlign\"].RIGHT:\r\n                        child.arrangePosition(this, [origins[2] - child.viewWidth, -1]);\r\n                        break;\r\n                    // Null valign means SizeTargetType == FILL\r\n                    case null:\r\n                        child.arrangePosition(this, [origins[0], -1]);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.requiresRender = false;\r\n    }\r\n\r\n    addChild(newChild) {\r\n        this.children.push(newChild);\r\n        this.orderedChildren.push(newChild);\r\n        this.orderedChildren.sort((a, b) => {\r\n            if (a.zValue > b.zValue) return 1;\r\n            else if (a.zValue < b.zValue) return -1;\r\n            else return 0;\r\n        });\r\n\r\n        // Listen for zValue changes to resort\r\n        this.childEventRegisters[newChild] = _events_events_js__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].register(newChild, \"propertyChanged\", (event, data) => {\r\n            if (data.property == \"zValue\") {\r\n                this.orderedChildren.sort((a, b) => {\r\n                    if (a.zValue > b.zValue) return 1;\r\n                    else if (a.zValue < b.zValue) return -1;\r\n                    else return 0;\r\n                });\r\n            }\r\n        });\r\n\r\n        // Use this with care\r\n        newChild.__parent = this;\r\n\r\n        // Alert subscribers to change in children\r\n        this.dispatchEvent(\"childrenChanged\", { action: \"add\", child: newChild });\r\n\r\n        this.scheduleRender();\r\n    }\r\n    removeChild(child) {\r\n        if (this.children.indexOf(child) == -1) return;\r\n\r\n        this.children.splice(this.children.indexOf(child), 1);\r\n        this.orderedChildren.splice(this.orderedChildren.indexOf(child), 1);\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].unregister(child, \"propertyChanged\", this.childEventRegisters[child]);\r\n\r\n        // Use this with care\r\n        child.__parent = null;\r\n\r\n        // Alert subscribers to change in children\r\n        this.dispatchEvent(\"childrenChanged\", { action: \"remove\", child: child });\r\n\r\n        this.scheduleRender();\r\n    }\r\n\r\n    _calculateMinimumWidth(available) {\r\n        // If we have ContentDirection.VERTICAL, just get largest child width\r\n        if (this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].VERTICAL) {\r\n            let largestWidth = 0;\r\n            for (let child of this.children) {\r\n                let cWidth = child.isArranger ? child.requestWidth(available) : child.viewWidth;\r\n                if (cWidth > largestWidth) largestWidth = cWidth;\r\n            }\r\n            return largestWidth + this.margin[0] + this.margin[2];\r\n        } // Otherwise we have to get the combination of child widths\r\n        else if (this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].HORIZONTAL) {\r\n            let widthSum = 0;\r\n            for (let child of this.children)\r\n                widthSum += child.isArranger ? child.requestWidth(available) : child.viewWidth;\r\n            return widthSum + this.margin[0] + this.margin[2];\r\n        }\r\n    }\r\n\r\n    _calculateMinimumHeight(available) {\r\n        // If we have ContentDirection.HORIZONTAL, just get largest child height\r\n        if (this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].HORIZONTAL) {\r\n            let largestHeight = 0;\r\n            for (let child of this.children) {\r\n                let cHeight = child.isArranger ? child.requestHeight(available) : child.viewHeight;\r\n                if (cHeight > largestHeight) largestHeight = cHeight;\r\n            }\r\n            return largestHeight + this.margin[1] + this.margin[3];\r\n        } // Otherwise we have to get the combination of child heights\r\n        else if (this.contentDirection == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].VERTICAL) {\r\n            let heightSum = 0;\r\n            for (let child of this.children)\r\n                heightSum += child.isArranger ? child.requestHeight(available) : child.viewHeight;\r\n            return heightSum + this.margin[1] + this.margin[3];\r\n        }\r\n    }\r\n\r\n    requestWidth(availableWidth) {\r\n        switch (this.hsizeTarget[0]) {\r\n            case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].MIN:\r\n                return this._calculateMinimumWidth(availableWidth);\r\n            case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FILL:\r\n                return availableWidth;\r\n            case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].PERCENT:\r\n                return Math.floor(availableWidth * this.hsizeTarget[1]);\r\n            case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FIXED:\r\n                return this.hsizeTarget[1] + this.margin[0] + this.margin[2];\r\n        }\r\n    }\r\n\r\n    requestHeight(availableHeight) {\r\n        switch (this.vsizeTarget[0]) {\r\n            case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].MIN:\r\n                return this._calculateMinimumHeight(availableHeight);\r\n            case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FILL:\r\n                return availableHeight;\r\n            case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].PERCENT:\r\n                return Math.floor(availableHeight * this.vsizeTarget[1]);\r\n            case _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FIXED:\r\n                return this.vsizeTarget[1] + this.margin[1] + this.margin[3];\r\n        }\r\n    }\r\n\r\n    //#region Method overrides\r\n    arrangePosition(arranger, newPosition) {\r\n        if (_utils_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].comparePoints(newPosition, this._arrangedPosition)) return;\r\n\r\n        super.arrangePosition(arranger, newPosition);\r\n        if (this.background)\r\n            this.background.arrangePosition(arranger, [\r\n                newPosition[0] != -1 ? newPosition[0] + this.margin[0] : -1,\r\n                newPosition[1] != -1 ? newPosition[1] + this.margin[1] : -1\r\n            ]);\r\n\r\n        this.scheduleRender();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Property overrides\r\n    get size() {\r\n        return super.size;\r\n    }\r\n    set size(newSize) {\r\n        super.size = newSize;\r\n        if (this.background) this.background.size = newSize;\r\n\r\n        // This render can now determine the size and alignment of nested sections and elements\r\n        this.scheduleRender();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Unique Properties\r\n    get backgroundColor() {\r\n        return this._backgroundColor;\r\n    }\r\n    set backgroundColor(newColor) {\r\n        if (typeof _utils_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].hexColor(newColor) != \"string\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Section.backgroundColor\", String(newColor), \"string\"]);\r\n\r\n        this._backgroundColor = newColor;\r\n        if (this.background) this.background.fillColor = this._backgroundColor;\r\n        this.notifyPropertyChange(\"backgroundColor\");\r\n    }\r\n\r\n    get borderColor() {\r\n        return this._borderColor;\r\n    }\r\n    set borderColor(newColor) {\r\n        if (typeof _utils_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].hexColor(newColor) != \"string\") {\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Section.borderColor\", String(newColor), \"string\"]);\r\n        }\r\n\r\n        this._borderColor = newColor;\r\n        if (this.background) this.background.borderColor = this._borderColor;\r\n        this.notifyPropertyChange(\"borderColor\");\r\n    }\r\n\r\n    get borderThickness() {\r\n        return this._borderThickness;\r\n    }\r\n    set borderThickness(thickness) {\r\n        if (typeof thickness == \"number\") {\r\n            if (!Number.isInteger(thickness) || thickness < 0)\r\n                Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Section.borderThickness\", String(thickness), \"int or LIST of 4 int\"]);\r\n            this._borderThickness = [thickness, thickness, thickness, thickness];\r\n        } else {\r\n            if (typeof thickness != \"object\" || thickness.length != 4)\r\n                Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Section.borderThickness\", String(thickness), \"int LIST of 4 int\"]);\r\n            for (let i = 0; i < 4; i++)\r\n                if (!Number.isInteger(thickness[i]) && thickness[i] >= 0)\r\n                    Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Section.borderThickness\", String(thickness), \"int LIST of 4 int\"]);\r\n\r\n            this._borderThickness = thickness;\r\n        }\r\n        if (this.background) this.background.borderThickness = this._borderThickness;\r\n        this.notifyPropertyChange(\"borderThickness\");\r\n    }\r\n\r\n    get contentDirection() {\r\n        return this._contentDirection;\r\n    }\r\n    set contentDirection(dir) {\r\n        if (!_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].hasOwnProperty(dir))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Section.contentDirection\", String(dir), \"ContentDirection\"]);\r\n\r\n        this._contentDirection = dir;\r\n    }\r\n\r\n    get hsizeTarget() {\r\n        return this._hsizeTarget;\r\n    }\r\n    set hsizeTarget(newTarget) {\r\n        if (!_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].hasOwnProperty(newTarget[0]))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Section.sizeTarget\", String(newTarget), \"SizeTargetType\"]);\r\n        else if (newTarget[0] == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FIXED && !Number.isInteger(newTarget[1]))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Section.sizeTarget\", String(newTarget), \"FIXED -> INT\"]);\r\n        else if (newTarget[0] == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].PERCENT && (newTarget[1] <= 0 || newTarget[1] >= 1.0))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Section.sizeTarget\", String(newTarget), \"PERCENT -> 0 - 1.0\"]);\r\n\r\n        this._hsizeTarget = newTarget;\r\n        this.notifyPropertyChange(\"hsizeTarget\");\r\n    }\r\n\r\n    get vsizeTarget() {\r\n        return this._vsizeTarget;\r\n    }\r\n    set vsizeTarget(newTarget) {\r\n        if (!_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].hasOwnProperty(newTarget[0]))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Section.sizeTarget\", String(newTarget), \"SizeTargetType\"]);\r\n        else if (newTarget[0] == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FIXED && !Number.isInteger(newTarget[1]))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Section.sizeTarget\", String(newTarget), \"FIXED -> INT\"]);\r\n        else if (newTarget[0] == _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].PERCENT && (newTarget[1] <= 0 || newTarget[1] >= 1.0))\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"Section.sizeTarget\", String(newTarget), \"PERCENT -> 0 - 1.0\"]);\r\n\r\n        this._vsizeTarget = newTarget;\r\n        this.notifyPropertyChange(\"vsizeTarget\");\r\n    }\r\n    //#endregion\r\n\r\n    update(elapsed) {\r\n        super.update(elapsed);\r\n\r\n        // Only render once per update loop\r\n        if (this.requiresRender) this.render();\r\n\r\n        for (let child of this.children) {\r\n            child.update(elapsed);\r\n        }\r\n    }\r\n\r\n    draw(context = _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context, offset = [0, 0]) {\r\n        if (this.background) this.background.draw(context, offset);\r\n\r\n        for (let child of this.orderedChildren) {\r\n            if (child.visible) {\r\n                child.draw(context, offset);\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/section.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/sectionHost.js":
/*!*************************************************!*\
  !*** ./src/lib/datalit/controls/sectionHost.js ***!
  \*************************************************/
/*! exports provided: SectionHost */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SectionHost\", function() { return SectionHost; });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _controls_section_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controls/section.js */ \"./src/lib/datalit/controls/section.js\");\n\r\n\r\n\r\n\r\n/* Low level control used for 'hosting' any number of sections within itself. Basically a simplified layer over Section that allows basic navigation methods\r\n */\r\n\r\nclass SectionHost extends _controls_section_js__WEBPACK_IMPORTED_MODULE_2__[\"Section\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        // Track all sections to be hosted\r\n        this._sectionStack = [];\r\n    }\r\n\r\n    //region Method Overrides\r\n    addChild(child) {\r\n        throw new Error(\"Cannot add children to sectionHost, Use addSection()\");\r\n    }\r\n    removeChild(child) {\r\n        throw new Error(\"Cannot have children in sectionHost, Use removeSection()\");\r\n    }\r\n    //#endregion\r\n\r\n    getActiveSection() {\r\n        return this._sectionStack.length > 0 ? this._sectionStack[this._sectionStack.length - 1] : null;\r\n    }\r\n\r\n    navigateBack() {\r\n        if (this._sectionStack.length <= 1) {\r\n            console.log(\"SectionHost.navigateBack: only one section exists\");\r\n            return;\r\n        }\r\n\r\n        // Remove current active section\r\n        var old = this._sectionStack.pop();\r\n        super.removeChild(old);\r\n        this._sectionStack.unshift(old);\r\n\r\n        super.addChild(this.getActiveSection());\r\n    }\r\n\r\n    navigateTo(section) {\r\n        if (this.getActiveSection() == section) return;\r\n\r\n        var index = this._sectionStack.indexOf(section);\r\n        if (index == -1) throw new Error(\"SectionHost.navigateTo: section not found\");\r\n\r\n        // Remove current active section\r\n        super.removeChild(this.getActiveSection());\r\n\r\n        // Slice given section from current location and push to front\r\n        index = this._sectionStack.indexOf(section);\r\n        this._sectionStack.splice(index, 1);\r\n        this._sectionStack.push(section);\r\n        super.addChild(section);\r\n    }\r\n\r\n    addSection(section) {\r\n        if (!section.isArranger) throw new Error(\"Only Section objects can be added to a SectionHost\");\r\n\r\n        // Child sections must use the entire SectionHost visible space\r\n        section.hsizeTarget = [_enums__WEBPACK_IMPORTED_MODULE_0__[\"SizeTargetType\"].FILL, null];\r\n        section.vsizeTarget = [_enums__WEBPACK_IMPORTED_MODULE_0__[\"SizeTargetType\"].FILL, null];\r\n\r\n        // Only push to stack, addChild / removeChild are used for deciding which section is actually displayed\r\n        if (this.getActiveSection()) super.removeChild(this.getActiveSection());\r\n\r\n        this._sectionStack.push(section);\r\n        super.addChild(section);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/sectionHost.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/textEdit.js":
/*!**********************************************!*\
  !*** ./src/lib/datalit/controls/textEdit.js ***!
  \**********************************************/
/*! exports provided: TextEdit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextEdit\", function() { return TextEdit; });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors.js */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events/events.js */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _label_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./label.js */ \"./src/lib/datalit/controls/label.js\");\n/* harmony import */ var _rect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./rect.js */ \"./src/lib/datalit/controls/rect.js\");\n/* harmony import */ var _section_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./section.js */ \"./src/lib/datalit/controls/section.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils.js */ \"./src/lib/datalit/utils.js\");\n/* harmony import */ var _controlFactory_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../controlFactory.js */ \"./src/lib/datalit/controlFactory.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TextEdit extends _section_js__WEBPACK_IMPORTED_MODULE_6__[\"Section\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        super.isFocusable = true;\r\n        super.contentDirection = _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].FREE;\r\n        super.size = [300, 80];\r\n\r\n        // Holds each line of text in this array\r\n        this._lines = [];\r\n\r\n        // Rectangle showing the selected text\r\n        this.selectionRect = _controlFactory_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].generateControl(\"Rect\", {\r\n            fillColor: \"99BBEE99\",\r\n            zValue: 1,\r\n            visible: false\r\n        });\r\n        this._selectionFill = \"99BBEE99\";\r\n        this.addChild(this.selectionRect);\r\n\r\n        // Rectangle showing focus\r\n        this.focusRect = _controlFactory_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].generateControl(\"Rect\", {\r\n            fillColor: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Color\"].TRANSPARENT,\r\n            borderColor: \"1133CC88\",\r\n            borderThickness: 1,\r\n            localPosition: [-1, -1],\r\n            zValue: 4,\r\n            visible: false,\r\n            size: [this.size[0] + 2, this.size[1] + 2]\r\n        });\r\n        this._focusColor = \"1133CC88\";\r\n        this.addChild(this.focusRect);\r\n\r\n        // Blinking cursor to show current typing location\r\n        this.cursor = _controlFactory_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].generateControl(\"Rect\", { size: [1, 18], fillColor: \"22\", zValue: 3, visible: false });\r\n        this.cursorTimeSinceChange = 0;\r\n        this.cursorDragStart = 0;\r\n        this.cursorDragging = false;\r\n        this.renderCursor();\r\n        this.addChild(this.cursor);\r\n\r\n        // Private fields behind properties\r\n        this._cursorBlinkRate = 500; // Timeout between on/off swaps in ms\r\n        this._cursorPos = [0, 0];\r\n        this._selectPos = [0, 0];\r\n        this._lineSpace = 8;\r\n\r\n        this.registerProperty(\"text\", false, true, true); // Text doesn't determine arrangement\r\n        this.registerProperty(\"fontSize\", true);\r\n        this.registerProperty(\"fontColor\");\r\n        this.registerProperty(\"fontType\", true);\r\n        this.registerProperty(\"fontMargin\", true);\r\n        this.registerProperty(\"cursorColor\");\r\n        this.registerProperty(\"cursorSize\");\r\n        this.registerProperty(\"cursorPos\", false, true, true);\r\n        this.registerProperty(\"selectPos\", false, true, true);\r\n        this.registerProperty(\"selectionFill\");\r\n        this.registerProperty(\"focusColor\", false, true, true);\r\n        this.registerProperty(\"lineSpace\", true, true, true);\r\n\r\n        // Subsribe to self events for rendering\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].register(this, \"propertyChanged\", (event, data) => {\r\n            if (data.property == \"cursorPos\") this.renderCursor();\r\n            else if (data.property == \"focused\") {\r\n                this.cursor.visible = this.focused;\r\n                this.focusRect.visible = this.focused;\r\n                if (!this.focused) {\r\n                    this.selectPos = this.cursorPos;\r\n                    this.renderSelection();\r\n                }\r\n            }\r\n        });\r\n\r\n        // Listen for keyboard input\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].register(this, \"keydown\", (event, data) => this.handleKeyDown(event, data));\r\n\r\n        // Listen for double-click selection\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].register(this, \"dblclick\", (event, data) => this.handleDoubleClick(event, data));\r\n    }\r\n\r\n    renderCursor() {\r\n        let text = this.label.text;\r\n\r\n        _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.font = this._fontSize + \"pt \" + this._fontType;\r\n        let preTextWidth = Math.floor(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(text.substr(0, this.cursorPos[0])).width);\r\n        let newX = this.label.margin[0] + preTextWidth;\r\n        let newY = this.fontMargin[1] + (this.fontSize / 2) * (this.cursorPos[1] + 1);\r\n\r\n        this.cursor.localPosition = [newX, newY];\r\n\r\n        if (this._hasSelection()) this.renderSelection();\r\n        else this.selectionRect.visible = false;\r\n    }\r\n\r\n    renderSelection() {\r\n        this.selectionRect.visible = true;\r\n        let text = this.label.text;\r\n\r\n        _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.font = this._fontSize + \"pt \" + this._fontType;\r\n\r\n        let rectWidth, preTextWidth;\r\n        // Shift + Right\r\n        if (this.selectPos < this.cursorPos) {\r\n            rectWidth = Math.floor(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(text.slice(this.selectPos, this.cursorPos)).width);\r\n            preTextWidth = Math.floor(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(text.substr(0, this.selectPos)).width);\r\n        }\r\n        // Shift + Left\r\n        else {\r\n            rectWidth = Math.floor(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(text.slice(this.cursorPos, this.selectPos)).width);\r\n            preTextWidth = Math.floor(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(text.substr(0, this.cursorPos)).width);\r\n        }\r\n\r\n        this.selectionRect.localPosition = [\r\n            this.label.margin[0] + preTextWidth,\r\n            Math.floor((this.height - this.cursorSize[1]) / 2)\r\n        ];\r\n        this.selectionRect.size = [rectWidth, this.cursorSize[1]];\r\n    }\r\n\r\n    handleMotion(key, modifiers) {\r\n        this.cursorTimeSinceChange = 0;\r\n        this.cursor.visible = true;\r\n\r\n        let text = this.label.text;\r\n        switch (key) {\r\n            case \"Delete\":\r\n                if (this._hasSelection()) this._removeSelection();\r\n                else if (this.cursorPos < text.length)\r\n                    this.label.text = text.slice(0, this.cursorPos) + text.slice(this.cursorPos + 1);\r\n                break;\r\n            case \"Backspace\":\r\n                if (this._hasSelection()) this._removeSelection();\r\n                else if (this.cursorPos > 0) {\r\n                    this.label.text = text.slice(0, this.cursorPos - 1) + text.slice(this.cursorPos);\r\n                    this.selectPos = this.cursorPos - 1;\r\n                    this.cursorPos--;\r\n                }\r\n                break;\r\n            case \"ArrowLeft\":\r\n                if (this.cursorPos > 0) {\r\n                    if (modifiers.ctrl) {\r\n                        let newPos = this.cursorPos - 1;\r\n                        while (text[newPos - 1] != \" \" && newPos > 0) newPos--;\r\n                        if (!modifiers.shift) this.selectPos = newPos;\r\n                        this.cursorPos = newPos;\r\n                    } else {\r\n                        if (!modifiers.shift) this.selectPos = this.cursorPos - 1;\r\n                        this.cursorPos--;\r\n                    }\r\n                }\r\n                break;\r\n            case \"ArrowRight\":\r\n                if (this.cursorPos < text.length) {\r\n                    if (modifiers.ctrl) {\r\n                        let newPos = this.cursorPos + 1;\r\n                        while (text[newPos] != \" \" && newPos < text.length) newPos++;\r\n                        if (!modifiers.shift) this.selectPos = newPos;\r\n                        this.cursorPos = newPos;\r\n                    } else {\r\n                        if (!modifiers.shift) this.selectPos = this.cursorPos + 1;\r\n                        this.cursorPos++;\r\n                    }\r\n                }\r\n                break;\r\n            case \"ArrowUp\":\r\n                if (this.cursorPos[1] > 0) {\r\n                    this.cursorPos[1]--;\r\n                }\r\n                break;\r\n            case \"ArrowDown\":\r\n                if (this.cursorPos[1] < this._lines.length - 1) {\r\n                    this.cursorPos[1]++;\r\n                }\r\n                break;\r\n            case \"Home\":\r\n                this.selectPos = 0;\r\n                this.cursorPos = 0;\r\n                break;\r\n            case \"End\":\r\n                this.selectPos = text.length;\r\n                this.cursorPos = text.length;\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleText(newText) {\r\n        // Replace selected text if present\r\n        if (this._hasSelection()) this._removeSelection();\r\n\r\n        let text = this.label.text;\r\n\r\n        if (this.cursorPos == text.length) this.label.text += newText;\r\n        else this.label.text = text.slice(0, this.cursorPos) + newText + text.slice(this.cursorPos);\r\n\r\n        this.selectPos = this.cursorPos + newText.length;\r\n        this.cursorPos = this.selectPos;\r\n    }\r\n\r\n    handleDoubleClick(event, data) {\r\n        let text = this.label.text;\r\n        // let text = \"hello there scott\";\r\n        let clickPos = this._getTextIndexFromPosition(data.position);\r\n\r\n        let wordStart = clickPos;\r\n        let wordEnd = clickPos;\r\n        while (text[wordStart] != \" \" && wordStart >= 0) wordStart--;\r\n        while (text[wordEnd] != \" \" && wordEnd < text.length) wordEnd++;\r\n\r\n        this.selectPos = wordStart + 1;\r\n        this.cursorPos = wordEnd;\r\n    }\r\n\r\n    handleKeyDown(event, data) {\r\n        this.cursorTimeSinceChange = 0;\r\n        this.cursor.visible = true;\r\n\r\n        // command shortcut support\r\n        if (data.modifiers.ctrl && data.code == \"KeyA\") {\r\n            let previousCursor = this.cursorPos;\r\n            this.selectPos = 0;\r\n            this.cursorPos = this.label.text.length;\r\n            // Trigger selection if cursor didn't change values, as propertyChanged handler won't catch it\r\n            if (previousCursor == this.cursorPos) this.renderSelection();\r\n        } else if (data.modifiers.ctrl && data.code == \"KeyC\") {\r\n            if (this._hasSelection()) _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].GlobalState.Clipboard = this._getSelection();\r\n        } else if (data.modifiers.ctrl && data.code == \"KeyX\") {\r\n            if (this._hasSelection()) {\r\n                _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].GlobalState.Clipboard = this._getSelection();\r\n                this._removeSelection();\r\n            }\r\n        } else if (data.modifiers.ctrl && data.code == \"KeyV\") {\r\n            if (this._hasSelection()) this._removeSelection();\r\n            this.handleText(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].GlobalState.Clipboard);\r\n        } else if (_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"MOTION_KEYSTROKES\"].includes(data.key)) this.handleMotion(data.key, data.modifiers);\r\n        else if (!data.modifiers.ctrl && _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"TEXT_KEYSTROKES\"].includes(data.key)) this.handleText(data.key);\r\n    }\r\n\r\n    _removeSelection() {\r\n        let previousCursor = this.cursorPos;\r\n        let text = this.label.text;\r\n        let firstText = text.substr(0, Math.min(this.selectPos, this.cursorPos));\r\n        let secondText = text.substr(Math.max(this.selectPos, this.cursorPos));\r\n        this.label.text = firstText + secondText;\r\n        this.selectPos = Math.min(this.selectPos, this.cursorPos);\r\n        this.cursorPos = this.selectPos;\r\n        // Trigger selection if cursor didn't change values, as propertyChanged handler won't catch it\r\n        if (previousCursor == this.cursorPos) this.renderSelection();\r\n    }\r\n\r\n    _hasSelection() {\r\n        return this.selectPos != this.cursorPos;\r\n    }\r\n\r\n    _getSelection() {\r\n        if (this.selectPos == this.cursorPos) return null;\r\n        else if (this.selectPos < this.cursorPos) return this.label.text.slice(this.selectPos, this.cursorPos);\r\n        else return this.label.text.slice(this.cursorPos, this.selectPos);\r\n    }\r\n\r\n    _getTextIndexFromPosition(point) {\r\n        let text = this.label.text;\r\n        let px = point[0];\r\n        let originX = this.label.hitRect[0];\r\n        if (px <= originX) return 0;\r\n        else if (px >= originX + this.label.hitRect[2]) return text.length;\r\n        else {\r\n            // Gather width of growing string until we pass our x value\r\n            _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.font = this.fontSize + \"pt \" + this.fontType;\r\n            let index = 0;\r\n            // Estimate halfway point for average character\r\n            let halfway = Math.floor(this.fontSize / 2);\r\n            while (originX + _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(text.substr(0, index)).width + halfway < px) {\r\n                index++;\r\n            }\r\n            return index;\r\n        }\r\n    }\r\n\r\n    //#region Override Method\r\n    render() {\r\n        // Before arranging Align.FREE elements, calculate their positions\r\n        this.label.localPosition = [0, Math.floor((this.height - this.label.height) / 2)];\r\n\r\n        super.render();\r\n    }\r\n    handleMouseEnter(event, data) {\r\n        super.handleMouseEnter(event, data);\r\n\r\n        _utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].changeCursor(_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Cursor\"].TEXT);\r\n    }\r\n    handleMouseLeave(event, data) {\r\n        super.handleMouseLeave(event, data);\r\n\r\n        _utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].changeCursor(_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Cursor\"].DEFAULT);\r\n    }\r\n    handleMouseMove(event, data) {\r\n        super.handleMouseMove(event, data);\r\n\r\n        if (this.cursorDragging) {\r\n            this.cursorPos = this._getTextIndexFromPosition(data.position);\r\n        }\r\n    }\r\n    handleMouseUp(event, data) {\r\n        super.handleMouseUp(event, data);\r\n\r\n        if (this.cursorDragging) {\r\n            this.cursorPos = this._getTextIndexFromPosition(data.position);\r\n        }\r\n        this.cursorDragging = false;\r\n    }\r\n    handleMouseDown(event, data) {\r\n        super.handleMouseDown(event, data);\r\n\r\n        // console.log(`Text Index from ${data.position[0]}: ${this._getTextIndexFromPosition(data.position)}`);\r\n\r\n        if (this.focused) {\r\n            let newPos = this._getTextIndexFromPosition(data.position);\r\n            if (!data.modifiers.shift) this.selectPos = newPos;\r\n            this.cursorPos = newPos;\r\n        }\r\n        this.cursorTimeSinceChange = 0;\r\n        this.cursor.visible = true;\r\n        this.cursorDragging = true;\r\n        this.cursorDragStart = data.position;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Override Properties\r\n    get size() {\r\n        return super.size;\r\n    }\r\n    set size(newSize) {\r\n        // Match focusRect size to this.size\r\n        if (this.focusRect) this.focusRect.size = [newSize[0] + 2, newSize[1] + 2];\r\n\r\n        super.size = newSize;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Unique Properties\r\n    get lineSpace() {\r\n        return this._lineSpace;\r\n    }\r\n    set lineSpace(newSpace) {\r\n        if (!Number.isInteger(newSpace) || newSpace < 0 || newSpace > 100)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextEdit.lineSpace\", String(newSpace), \"int 0 - 100\"]);\r\n\r\n        this._lineSpace = newSpace;\r\n        this.notifyPropertyChange(\"newSpace\");\r\n    }\r\n\r\n    get focusColor() {\r\n        return this._focusColor;\r\n    }\r\n    set focusColor(color) {\r\n        if (typeof _utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].hexColor(color) != \"string\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextEdit.focusColor\", String(color), \"string\"]);\r\n\r\n        this.focusRect.borderColor = color;\r\n        this.notifyPropertyChange(\"focusColor\");\r\n    }\r\n\r\n    get selectionFill() {\r\n        return this._selectionFill;\r\n    }\r\n    set selectionFill(color) {\r\n        if (typeof _utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].hexColor(color) != \"string\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextEdit.selectionFill\", String(color), \"string\"]);\r\n\r\n        this.selectionRect.fillColor = color;\r\n        this.notifyPropertyChange(\"selectionFill\");\r\n    }\r\n\r\n    get selectPos() {\r\n        return this._selectPos;\r\n    }\r\n    set selectPos(newPos) {\r\n        if (!Number.isInteger(newPos) || newPos < -1 || newPos > this.label.text.length)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextEdit.selectPos\", String(newPos), \"int (-1) - (text.length - 1)\"]);\r\n\r\n        this._selectPos = newPos;\r\n        this.notifyPropertyChange(\"selectPos\");\r\n    }\r\n\r\n    get cursorPos() {\r\n        return this._cursorPos;\r\n    }\r\n    set cursorPos(newPos) {\r\n        if (!Number.isInteger(newPos) || newPos < 0 || newPos > this.label.text.length)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextEdit.cursorPos\", String(newPos), \"int 0 - text.length\"]);\r\n\r\n        this._cursorPos = newPos;\r\n        this.notifyPropertyChange(\"cursorPos\");\r\n    }\r\n\r\n    get cursorBlinkRate() {\r\n        return this._cursorBlinkRate;\r\n    }\r\n    set cursorBlinkRate(newRate) {\r\n        if (!Number.isInteger(newRate) || newRate < 50 || newRate > 2000)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextEdit.cursorBlinkRate\", String(newRate), \"int 50 - 2000\"]);\r\n\r\n        this._cursorBlinkRate = newRate;\r\n    }\r\n\r\n    get cursorColor() {\r\n        return this.cursor.fillColor;\r\n    }\r\n    set cursorColor(newColor) {\r\n        this.cursor.fillColor = newColor;\r\n        this.notifyPropertyChange(\"cursorColor\");\r\n    }\r\n\r\n    get cursorSize() {\r\n        return this.cursor.size;\r\n    }\r\n    set cursorSize(newSize) {\r\n        this.cursor.size = newSize;\r\n        this.notifyPropertyChange(\"cursorSize\");\r\n    }\r\n\r\n    get text() {\r\n        return this.label.text;\r\n    }\r\n    set text(newText) {\r\n        if (typeof newText != \"string\") Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextEdit.text\", String(newText), \"string\"]);\r\n\r\n        this.label.text = newText;\r\n        this.notifyPropertyChange(\"text\");\r\n    }\r\n\r\n    get fontSize() {\r\n        return this.label.fontSize;\r\n    }\r\n    set fontSize(size) {\r\n        if (!Number.isInteger(size) || size < 2)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextEdit.fontSize\", String(size), \"int > 2\"]);\r\n\r\n        this.label.fontSize = size;\r\n        this.notifyPropertyChange(\"fontSize\");\r\n    }\r\n\r\n    get fontColor() {\r\n        return this.label.fontColor;\r\n    }\r\n    set fontColor(color) {\r\n        if (typeof _utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].hexColor(color) != \"string\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextEdit.fontColor\", String(color), \"string\"]);\r\n\r\n        this.label.fontColor = color;\r\n        this.notifyPropertyChange(\"fontColor\");\r\n    }\r\n\r\n    get fontType() {\r\n        return this.label.fontType;\r\n    }\r\n    set fontType(font) {\r\n        if (typeof font != \"string\") Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextEdit.fontType\", String(font), \"string\"]);\r\n\r\n        this.label.fontType = font;\r\n        this.notifyPropertyChange(\"fontType\");\r\n    }\r\n\r\n    get fontMargin() {\r\n        return this.label.margin;\r\n    }\r\n    set fontMargin(newMargin) {\r\n        this.label.margin = newMargin;\r\n        this.notifyPropertyChange(\"fontMargin\");\r\n    }\r\n    //#endregion\r\n\r\n    update(elapsed) {\r\n        super.update(elapsed);\r\n\r\n        if (this.focused) {\r\n            this.cursorTimeSinceChange += Math.floor(elapsed);\r\n            if (this.cursorTimeSinceChange >= this.cursorBlinkRate) {\r\n                this.cursorTimeSinceChange = 0;\r\n                this.cursor.visible = !this.cursor.visible;\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/textEdit.js?");

/***/ }),

/***/ "./src/lib/datalit/controls/textInput.js":
/*!***********************************************!*\
  !*** ./src/lib/datalit/controls/textInput.js ***!
  \***********************************************/
/*! exports provided: TextInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextInput\", function() { return TextInput; });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors.js */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events/events.js */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _label_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./label.js */ \"./src/lib/datalit/controls/label.js\");\n/* harmony import */ var _rect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./rect.js */ \"./src/lib/datalit/controls/rect.js\");\n/* harmony import */ var _section_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./section.js */ \"./src/lib/datalit/controls/section.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils.js */ \"./src/lib/datalit/utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TextInput extends _section_js__WEBPACK_IMPORTED_MODULE_6__[\"Section\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        super.updateProperties({\r\n            isFocusable: true,\r\n            contentDirection: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"ContentDirection\"].FREE,\r\n            halign: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"HAlign\"].LEFT,\r\n            valign: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"VAlign\"].TOP,\r\n            backgroundColor: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Color\"].WHITE,\r\n            borderColor: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Color\"].BLACK,\r\n            borderThickness: 1,\r\n            hsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FIXED, 200],\r\n            vsizeTarget: [_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"SizeTargetType\"].FIXED, 30]\r\n        });\r\n\r\n        // Composite control declarations\r\n        this.label = null;\r\n        this.selectionRect = null;\r\n        this.focusRect = null;\r\n        this.cursor = null;\r\n\r\n        // Private fields behind properties\r\n        this._cursorBlinkRate = 500; // Timeout between on/off swaps in ms\r\n        this._cursorPos = 0;\r\n        this._selectPos = 0;\r\n\r\n        // Subsribe to self events for rendering\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].register(this, \"propertyChanged\", (event, data) => {\r\n            if (data.property == \"cursorPos\") this.renderCursor();\r\n            else if (data.property == \"focused\") {\r\n                this.cursor.visible = this.focused;\r\n                this.focusRect.visible = this.focused;\r\n                if (!this.focused) {\r\n                    this.selectPos = this.cursorPos;\r\n                    this.renderSelection();\r\n                }\r\n            } else if (data.property == \"size\") {\r\n                this.renderCursor();\r\n            }\r\n        });\r\n\r\n        // Listen for keyboard input\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].register(this, \"keydown\", (event, data) => this.handleKeyDown(event, data));\r\n\r\n        // Listen for double-click selection\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_3__[\"Events\"].register(this, \"dblclick\", (event, data) => this.handleDoubleClick(event, data));\r\n    }\r\n\r\n    initialize(generateControl) {\r\n        super.initialize(generateControl);\r\n\r\n        // Holds the text the user inputs\r\n        this.label = generateControl(\"Label\", {\r\n            text: \"\",\r\n            fontSize: _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].GlobalState.DefaultFontSize - 2,\r\n            fontColor: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Color\"].BLACK,\r\n            fontType: \"sans-serif\",\r\n            margin: [8, 0, 8, 0],\r\n            zValue: 2\r\n        });\r\n        this.addChild(this.label);\r\n\r\n        // Rectangle showing the selected text\r\n        this.selectionRect = generateControl(\"Rect\", { fillColor: \"99BBEE99\", zValue: 1, visible: false });\r\n        this._selectionFill = \"99BBEE99\";\r\n        this.addChild(this.selectionRect);\r\n\r\n        // Rectangle showing focus\r\n        this.focusRect = generateControl(\"Rect\", {\r\n            fillColor: _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Color\"].TRANSPARENT,\r\n            borderColor: \"1133CC88\",\r\n            borderThickness: 1,\r\n            localPosition: [-1, -1],\r\n            zValue: 4,\r\n            visible: false,\r\n            size: [this.size[0] + 2, this.size[1] + 2]\r\n        });\r\n        this._focusColor = \"1133CC88\";\r\n        this.addChild(this.focusRect);\r\n\r\n        // Blinking cursor to show current typing location\r\n        this.cursor = generateControl(\"Rect\", { size: [1, 18], fillColor: \"22\", zValue: 3, visible: false });\r\n        this.cursorTimeSinceChange = 0;\r\n        this.cursorDragStart = 0;\r\n        this.cursorDragging = false;\r\n        this.renderCursor();\r\n        this.addChild(this.cursor);\r\n\r\n        // Alias or dependent properties\r\n        this.registerProperty(\"text\", false, true, true); // Text doesn't determine arrangement\r\n        this.registerProperty(\"cursorColor\");\r\n        this.registerProperty(\"cursorSize\");\r\n        this.registerProperty(\"cursorPos\", false, true, true);\r\n        this.registerProperty(\"selectPos\", false, true, true);\r\n        this.registerProperty(\"selectionFill\");\r\n        this.registerProperty(\"focusColor\", false, true, true);\r\n\r\n        this.registerAliasProperty(\"fontSize\", \"label\");\r\n        this.registerAliasProperty(\"fontColor\", \"label\");\r\n        this.registerAliasProperty(\"fontType\", \"label\");\r\n        this.registerAliasProperty(\"fontMargin\", \"label\", \"margin\");\r\n    }\r\n\r\n    renderCursor() {\r\n        let text = this.label.text;\r\n\r\n        _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.font = this.fontSize + \"pt \" + this.fontType;\r\n        let preTextWidth = Math.floor(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(text.substr(0, this.cursorPos)).width);\r\n        let newX = this.label.margin[0] + preTextWidth;\r\n        let newY = Math.floor((this.height - this.cursorSize[1]) / 2);\r\n\r\n        this.cursor.localPosition = [newX, newY];\r\n\r\n        if (this._hasSelection()) this.renderSelection();\r\n        else this.selectionRect.visible = false;\r\n    }\r\n\r\n    renderSelection() {\r\n        this.selectionRect.visible = true;\r\n        let text = this.label.text;\r\n\r\n        _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.font = this.fontSize + \"pt \" + this.fontType;\r\n\r\n        let rectWidth, preTextWidth;\r\n        // Shift + Right\r\n        if (this.selectPos < this.cursorPos) {\r\n            rectWidth = Math.floor(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(text.slice(this.selectPos, this.cursorPos)).width);\r\n            preTextWidth = Math.floor(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(text.substr(0, this.selectPos)).width);\r\n        }\r\n        // Shift + Left\r\n        else {\r\n            rectWidth = Math.floor(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(text.slice(this.cursorPos, this.selectPos)).width);\r\n            preTextWidth = Math.floor(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(text.substr(0, this.cursorPos)).width);\r\n        }\r\n\r\n        this.selectionRect.localPosition = [\r\n            this.label.margin[0] + preTextWidth,\r\n            Math.floor((this.height - this.cursorSize[1]) / 2)\r\n        ];\r\n        this.selectionRect.size = [rectWidth, this.cursorSize[1]];\r\n    }\r\n\r\n    handleMotion(key, modifiers) {\r\n        this.cursorTimeSinceChange = 0;\r\n        this.cursor.visible = true;\r\n\r\n        let text = this.label.text;\r\n        switch (key) {\r\n            case \"Delete\":\r\n                if (this._hasSelection()) this._removeSelection();\r\n                else if (this.cursorPos < text.length)\r\n                    this.text = text.slice(0, this.cursorPos) + text.slice(this.cursorPos + 1);\r\n                break;\r\n            case \"Backspace\":\r\n                if (this._hasSelection()) this._removeSelection();\r\n                else if (this.cursorPos > 0) {\r\n                    this.text = text.slice(0, this.cursorPos - 1) + text.slice(this.cursorPos);\r\n                    this.selectPos = this.cursorPos - 1;\r\n                    this.cursorPos--;\r\n                }\r\n                break;\r\n            case \"ArrowLeft\":\r\n                if (this.cursorPos > 0) {\r\n                    if (modifiers.ctrl) {\r\n                        let newPos = this.cursorPos - 1;\r\n                        while (text[newPos - 1] != \" \" && newPos > 0) newPos--;\r\n                        if (!modifiers.shift) this.selectPos = newPos;\r\n                        this.cursorPos = newPos;\r\n                    } else {\r\n                        if (!modifiers.shift) this.selectPos = this.cursorPos - 1;\r\n                        this.cursorPos--;\r\n                    }\r\n                }\r\n                break;\r\n            case \"ArrowRight\":\r\n                if (this.cursorPos < text.length) {\r\n                    if (modifiers.ctrl) {\r\n                        let newPos = this.cursorPos + 1;\r\n                        while (text[newPos] != \" \" && newPos < text.length) newPos++;\r\n                        if (!modifiers.shift) this.selectPos = newPos;\r\n                        this.cursorPos = newPos;\r\n                    } else {\r\n                        if (!modifiers.shift) this.selectPos = this.cursorPos + 1;\r\n                        this.cursorPos++;\r\n                    }\r\n                }\r\n                break;\r\n            case \"Home\":\r\n                this.selectPos = 0;\r\n                this.cursorPos = 0;\r\n                break;\r\n            case \"End\":\r\n                this.selectPos = text.length;\r\n                this.cursorPos = text.length;\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleText(newText) {\r\n        // Replace selected text if present\r\n        if (this._hasSelection()) this._removeSelection();\r\n\r\n        let text = this.label.text;\r\n\r\n        if (this.cursorPos == text.length) this.text += newText;\r\n        else this.text = text.slice(0, this.cursorPos) + newText + text.slice(this.cursorPos);\r\n\r\n        this.selectPos = this.cursorPos + newText.length;\r\n        this.cursorPos = this.selectPos;\r\n    }\r\n\r\n    handleDoubleClick(event, data) {\r\n        let text = this.label.text;\r\n        // let text = \"hello there scott\";\r\n        let clickPos = this._getTextIndexFromPosition(data.position);\r\n\r\n        let wordStart = clickPos;\r\n        let wordEnd = clickPos;\r\n        while (text[wordStart] != \" \" && wordStart >= 0) wordStart--;\r\n        while (text[wordEnd] != \" \" && wordEnd < text.length) wordEnd++;\r\n\r\n        this.selectPos = wordStart + 1;\r\n        this.cursorPos = wordEnd;\r\n    }\r\n\r\n    handleKeyDown(event, data) {\r\n        this.cursorTimeSinceChange = 0;\r\n        this.cursor.visible = true;\r\n\r\n        // command shortcut support\r\n        if (data.modifiers.ctrl && data.code == \"KeyA\") {\r\n            let previousCursor = this.cursorPos;\r\n            this.selectPos = 0;\r\n            this.cursorPos = this.label.text.length;\r\n            // Trigger selection if cursor didn't change values, as propertyChanged handler won't catch it\r\n            if (previousCursor == this.cursorPos) this.renderSelection();\r\n        } else if (data.modifiers.ctrl && data.code == \"KeyC\") {\r\n            if (this._hasSelection()) _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].GlobalState.Clipboard = this._getSelection();\r\n        } else if (data.modifiers.ctrl && data.code == \"KeyX\") {\r\n            if (this._hasSelection()) {\r\n                _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].GlobalState.Clipboard = this._getSelection();\r\n                this._removeSelection();\r\n            }\r\n        } else if (data.modifiers.ctrl && data.code == \"KeyV\") {\r\n            if (this._hasSelection()) this._removeSelection();\r\n            this.handleText(_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].GlobalState.Clipboard);\r\n        } else if (_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"MOTION_KEYSTROKES\"].includes(data.key)) this.handleMotion(data.key, data.modifiers);\r\n        else if (!data.modifiers.ctrl && _enums_js__WEBPACK_IMPORTED_MODULE_1__[\"TEXT_KEYSTROKES\"].includes(data.key)) this.handleText(data.key);\r\n    }\r\n\r\n    _removeSelection() {\r\n        let previousCursor = this.cursorPos;\r\n        let text = this.label.text;\r\n        let firstText = text.substr(0, Math.min(this.selectPos, this.cursorPos));\r\n        let secondText = text.substr(Math.max(this.selectPos, this.cursorPos));\r\n        this.text = firstText + secondText;\r\n        this.selectPos = Math.min(this.selectPos, this.cursorPos);\r\n        this.cursorPos = this.selectPos;\r\n        // Trigger selection if cursor didn't change values, as propertyChanged handler won't catch it\r\n        if (previousCursor == this.cursorPos) this.renderSelection();\r\n    }\r\n\r\n    _hasSelection() {\r\n        return this.selectPos != this.cursorPos;\r\n    }\r\n\r\n    _getSelection() {\r\n        if (this.selectPos == this.cursorPos) return null;\r\n        else if (this.selectPos < this.cursorPos) return this.text.slice(this.selectPos, this.cursorPos);\r\n        else return this.text.slice(this.cursorPos, this.selectPos);\r\n    }\r\n\r\n    _getTextIndexFromPosition(point) {\r\n        let text = this.label.text;\r\n        let px = point[0];\r\n        let originX = this.label.hitRect[0];\r\n        if (px <= originX) return 0;\r\n        else if (px >= originX + this.label.hitRect[2]) return text.length;\r\n        else {\r\n            // Gather width of growing string until we pass our x value\r\n            _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.font = this.fontSize + \"pt \" + this.fontType;\r\n            let index = 0;\r\n            // Estimate halfway point for average character\r\n            let halfway = Math.floor(this.fontSize / 2);\r\n            while (originX + _app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Context.measureText(text.substr(0, index)).width + halfway < px) {\r\n                index++;\r\n            }\r\n            return index;\r\n        }\r\n    }\r\n\r\n    //#region Override Method\r\n    render() {\r\n        // Before arranging Align.FREE elements, calculate their positions\r\n        this.label.localPosition = [0, Math.floor((this.height - this.label.height) / 2)];\r\n\r\n        super.render();\r\n    }\r\n    handleMouseEnter(event, data) {\r\n        super.handleMouseEnter(event, data);\r\n\r\n        _utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].changeCursor(_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Cursor\"].TEXT);\r\n    }\r\n    handleMouseLeave(event, data) {\r\n        super.handleMouseLeave(event, data);\r\n\r\n        _utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].changeCursor(_enums_js__WEBPACK_IMPORTED_MODULE_1__[\"Cursor\"].DEFAULT);\r\n    }\r\n    handleMouseMove(event, data) {\r\n        super.handleMouseMove(event, data);\r\n\r\n        if (this.cursorDragging) {\r\n            this.cursorPos = this._getTextIndexFromPosition(data.position);\r\n        }\r\n    }\r\n    handleMouseUp(event, data) {\r\n        super.handleMouseUp(event, data);\r\n\r\n        if (this.cursorDragging) {\r\n            this.cursorPos = this._getTextIndexFromPosition(data.position);\r\n        }\r\n        this.cursorDragging = false;\r\n    }\r\n    handleMouseDown(event, data) {\r\n        super.handleMouseDown(event, data);\r\n\r\n        // console.log(`Text Index from ${data.position[0]}: ${this._getTextIndexFromPosition(data.position)}`);\r\n\r\n        if (this.focused) {\r\n            let newPos = this._getTextIndexFromPosition(data.position);\r\n            if (!data.modifiers.shift) this.selectPos = newPos;\r\n            this.cursorPos = newPos;\r\n        }\r\n        this.cursorTimeSinceChange = 0;\r\n        this.cursor.visible = true;\r\n        this.cursorDragging = true;\r\n        this.cursorDragStart = data.position;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Override Properties\r\n    get size() {\r\n        return super.size;\r\n    }\r\n    set size(newSize) {\r\n        // Match focusRect size to this.size\r\n        if (this.focusRect) this.focusRect.size = [newSize[0] + 2, newSize[1] + 2];\r\n\r\n        super.size = newSize;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Unique Properties\r\n    get focusColor() {\r\n        return this._focusColor;\r\n    }\r\n    set focusColor(color) {\r\n        if (typeof _utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].hexColor(color) != \"string\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextInput.focusColor\", String(color), \"string\"]);\r\n\r\n        this.focusRect.borderColor = color;\r\n        this.notifyPropertyChange(\"focusColor\");\r\n    }\r\n\r\n    get selectionFill() {\r\n        return this._selectionFill;\r\n    }\r\n    set selectionFill(color) {\r\n        if (typeof _utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].hexColor(color) != \"string\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextInput.selectionFill\", String(color), \"string\"]);\r\n\r\n        this.selectionRect.fillColor = color;\r\n        this.notifyPropertyChange(\"selectionFill\");\r\n    }\r\n\r\n    get selectPos() {\r\n        return this._selectPos;\r\n    }\r\n    set selectPos(newPos) {\r\n        if (!Number.isInteger(newPos) || newPos < -1 || newPos > this.label.text.length)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextInput.selectPos\", String(newPos), \"int (-1) - (text.length - 1)\"]);\r\n\r\n        this._selectPos = newPos;\r\n        this.notifyPropertyChange(\"selectPos\");\r\n    }\r\n\r\n    get cursorPos() {\r\n        return this._cursorPos;\r\n    }\r\n    set cursorPos(newPos) {\r\n        if (!Number.isInteger(newPos) || newPos < 0 || newPos > this.label.text.length)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextInput.cursorPos\", String(newPos), \"int 0 - text.length\"]);\r\n\r\n        this._cursorPos = newPos;\r\n        this.notifyPropertyChange(\"cursorPos\");\r\n    }\r\n\r\n    get cursorBlinkRate() {\r\n        return this._cursorBlinkRate;\r\n    }\r\n    set cursorBlinkRate(newRate) {\r\n        if (!Number.isInteger(newRate) || newRate < 50 || newRate > 2000)\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextInput.cursorBlinkRate\", String(newRate), \"int 50 - 2000\"]);\r\n\r\n        this._cursorBlinkRate = newRate;\r\n    }\r\n\r\n    get cursorColor() {\r\n        return this.cursor.fillColor;\r\n    }\r\n    set cursorColor(newColor) {\r\n        this.cursor.fillColor = newColor;\r\n        this.notifyPropertyChange(\"cursorColor\");\r\n    }\r\n\r\n    get cursorSize() {\r\n        return this.cursor.size;\r\n    }\r\n    set cursorSize(newSize) {\r\n        this.cursor.size = newSize;\r\n        this.notifyPropertyChange(\"cursorSize\");\r\n    }\r\n\r\n    get text() {\r\n        return this.label.text;\r\n    }\r\n    set text(newText) {\r\n        if (typeof newText != \"string\") Object(_errors_js__WEBPACK_IMPORTED_MODULE_2__[\"datalitError\"])(\"propertySet\", [\"TextInput.text\", String(newText), \"string\"]);\r\n\r\n        this.label.text = newText;\r\n        this.notifyPropertyChange(\"text\");\r\n    }\r\n    //#endregion\r\n\r\n    update(elapsed) {\r\n        super.update(elapsed);\r\n\r\n        if (this.focused) {\r\n            this.cursorTimeSinceChange += Math.floor(elapsed);\r\n            if (this.cursorTimeSinceChange >= this.cursorBlinkRate) {\r\n                this.cursorTimeSinceChange = 0;\r\n                this.cursor.visible = !this.cursor.visible;\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/controls/textInput.js?");

/***/ }),

/***/ "./src/lib/datalit/enums.js":
/*!**********************************!*\
  !*** ./src/lib/datalit/enums.js ***!
  \**********************************/
/*! exports provided: BindingType, BindingState, SizeTargetType, Cursor, Color, Modifier, MouseButton, EventSourceType, ControlState, HAlign, VAlign, ContentDirection, PageState, TEXT_KEYSTROKES, MOTION_KEYSTROKES, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BindingType\", function() { return BindingType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BindingState\", function() { return BindingState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SizeTargetType\", function() { return SizeTargetType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Cursor\", function() { return Cursor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Color\", function() { return Color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Modifier\", function() { return Modifier; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MouseButton\", function() { return MouseButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventSourceType\", function() { return EventSourceType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ControlState\", function() { return ControlState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HAlign\", function() { return HAlign; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VAlign\", function() { return VAlign; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ContentDirection\", function() { return ContentDirection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PageState\", function() { return PageState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TEXT_KEYSTROKES\", function() { return TEXT_KEYSTROKES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MOTION_KEYSTROKES\", function() { return MOTION_KEYSTROKES; });\nconst BindingType = Object.freeze({\r\n    READ_ONLY: \"READ_ONLY\",\r\n    TWO_WAY: \"TWO_WAY\",\r\n    WRITE_ONLY: \"WRITE_ONLY\"\r\n});\r\n\r\nconst BindingState = Object.freeze({\r\n    INACTIVE: \"INACTIVE\",\r\n    INVALID: \"INVALID\",\r\n    MISMATCHED: \"MISMATCHED\",\r\n    MATCHED: \"MATCHED\"\r\n});\r\n\r\nconst SizeTargetType = Object.freeze({\r\n    MIN: \"MIN\", // Requires alignment\r\n    FILL: \"FILL\", // Ignores alignment\r\n    PERCENT: \"PERCENT\", // Requires alignment\r\n    FIXED: \"FIXED\" // Requires alignment\r\n});\r\n\r\nconst Cursor = Object.freeze({\r\n    TEXT: \"text\",\r\n    DEFAULT: \"default\",\r\n    WAIT: \"wait\",\r\n    RESIZE: \"resize\",\r\n    POINTER: \"pointer\",\r\n    PROGRESS: \"progress\"\r\n});\r\n\r\nconst Color = Object.freeze({\r\n    TRANSPARENT: \"00000000\",\r\n    BLACK: \"00\",\r\n    WHITE: \"FF\",\r\n    RED: \"FF0000\",\r\n    GREEN: \"00FF00\",\r\n    BLUE: \"0000FF\",\r\n    GRAY: \"DDDDDD\"\r\n});\r\n\r\nconst Modifier = Object.freeze({\r\n    ALT: \"ALT\",\r\n    SHIFT: \"SHIFT\",\r\n    CTRL: \"CTRL\"\r\n});\r\n\r\nconst MouseButton = Object.freeze({\r\n    LEFT: 1,\r\n    MIDDLE: 2,\r\n    RIGHT: 3\r\n});\r\n\r\nconst EventSourceType = Object.freeze({\r\n    CONTROL: \"CONTROL\",\r\n    DATAMODEL: \"DATAMODEL\",\r\n    NATIVE: \"NATIVE\"\r\n});\r\n\r\nconst ControlState = Object.freeze({\r\n    DISABLED: \"DISABLED\",\r\n    READY: \"READY\",\r\n    HOVERED: \"HOVERED\",\r\n    DEPRESSED: \"DEPRESSED\",\r\n    DRAGGED: \"DRAGGED\",\r\n    SELECTED: \"SELECTED\"\r\n});\r\n\r\nconst HAlign = Object.freeze({\r\n    RIGHT: \"RIGHT\",\r\n    LEFT: \"LEFT\",\r\n    CENTER: \"CENTER\"\r\n});\r\n\r\nconst VAlign = Object.freeze({\r\n    TOP: \"TOP\",\r\n    BOTTOM: \"BOTTOM\",\r\n    CENTER: \"CENTER\"\r\n});\r\n\r\nconst ContentDirection = Object.freeze({\r\n    HORIZONTAL: \"HORIZONTAL\",\r\n    VERTICAL: \"VERTICAL\",\r\n    FREE: \"FREE\"\r\n});\r\n\r\nconst PageState = Object.freeze({\r\n    READY: \"READY\",\r\n    ACTIVE: \"ACTIVE\"\r\n});\r\n\r\nconst TEXT_KEYSTROKES = [\r\n    \" \",\r\n    \"a\",\r\n    \"b\",\r\n    \"c\",\r\n    \"d\",\r\n    \"e\",\r\n    \"f\",\r\n    \"g\",\r\n    \"h\",\r\n    \"i\",\r\n    \"j\",\r\n    \"k\",\r\n    \"l\",\r\n    \"m\",\r\n    \"n\",\r\n    \"o\",\r\n    \"p\",\r\n    \"q\",\r\n    \"r\",\r\n    \"s\",\r\n    \"t\",\r\n    \"u\",\r\n    \"v\",\r\n    \"w\",\r\n    \"x\",\r\n    \"y\",\r\n    \"z\",\r\n    \"A\",\r\n    \"B\",\r\n    \"C\",\r\n    \"D\",\r\n    \"E\",\r\n    \"F\",\r\n    \"G\",\r\n    \"H\",\r\n    \"I\",\r\n    \"J\",\r\n    \"K\",\r\n    \"L\",\r\n    \"M\",\r\n    \"N\",\r\n    \"O\",\r\n    \"P\",\r\n    \"Q\",\r\n    \"R\",\r\n    \"S\",\r\n    \"T\",\r\n    \"U\",\r\n    \"V\",\r\n    \"W\",\r\n    \"X\",\r\n    \"Y\",\r\n    \"Z\",\r\n    \"Backquote\",\r\n    \"1\",\r\n    \"2\",\r\n    \"3\",\r\n    \"4\",\r\n    \"5\",\r\n    \"6\",\r\n    \"7\",\r\n    \"8\",\r\n    \"9\",\r\n    \"0\",\r\n    \"`\",\r\n    \"~\",\r\n    \"!\",\r\n    \"@\",\r\n    \"#\",\r\n    \"$\",\r\n    \"%\",\r\n    \"^\",\r\n    \"&\",\r\n    \"*\",\r\n    \"(\",\r\n    \")\",\r\n    \"-\",\r\n    \"=\",\r\n    \"+\",\r\n    \"_\",\r\n    \"[\",\r\n    \"{\",\r\n    \"]\",\r\n    \"}\",\r\n    \"\\\\\",\r\n    \"|\",\r\n    \";\",\r\n    \":\",\r\n    \"'\",\r\n    '\"',\r\n    \",\",\r\n    \".\",\r\n    \"<\",\r\n    \">\",\r\n    \"/\",\r\n    \"?\"\r\n];\r\n\r\nconst MOTION_KEYSTROKES = [\r\n    \"Backspace\",\r\n    \"ArrowLeft\",\r\n    \"ArrowRight\",\r\n    \"ArrowUp\",\r\n    \"ArrowDown\",\r\n    \"Delete\",\r\n    \"Enter\",\r\n    \"Home\",\r\n    \"End\"\r\n];\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    Cursor,\r\n    Color,\r\n    ControlState,\r\n    HAlign,\r\n    VAlign,\r\n    ContentDirection,\r\n    PageState,\r\n    EventSourceType,\r\n    MouseButton,\r\n    Modifier,\r\n    SizeTargetType,\r\n    BindingState,\r\n    BindingType\r\n});\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/enums.js?");

/***/ }),

/***/ "./src/lib/datalit/errors.js":
/*!***********************************!*\
  !*** ./src/lib/datalit/errors.js ***!
  \***********************************/
/*! exports provided: datalitError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"datalitError\", function() { return datalitError; });\nconst ERROR_LIST = {\r\n    propertySet: \"Set property '$0': '$1' is invalid, expecting '$2'\",\r\n    propertyNotFound: \"'$0' property not found: '$1'\",\r\n    arrangeAuthority: \"Arrange authority breach: '$0' is not a Section or Page\",\r\n    objectInterfaceMismatch: \"Object '$0' doesn't match appropriate interface with properties: '$1'\",\r\n    notYetImplemented: \"This feature is not yet implemented\",\r\n    typeMismatch: \"Type '$0' is invalid for parameter '$1', expecting '$2'\",\r\n    illogical: \"Property '$0' cannot be '$1' while property '$2' is '$3'\",\r\n    invalidAlignment: \"Alignment for '$0' is invalid: '$1'\"\r\n};\r\n\r\nfunction datalitError(name, params) {\r\n    let message = ERROR_LIST[name];\r\n    for (let i = 0; i < params.length; i++) {\r\n        message = message.replace(\"$\" + i, params[i]);\r\n    }\r\n    throw new Error(message);\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/errors.js?");

/***/ }),

/***/ "./src/lib/datalit/events/controlEventLayer.js":
/*!*****************************************************!*\
  !*** ./src/lib/datalit/events/controlEventLayer.js ***!
  \*****************************************************/
/*! exports provided: ControlEventLayer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ControlEventLayer\", function() { return ControlEventLayer; });\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app */ \"./src/lib/datalit/app.js\");\n\r\n\r\nclass ControlEventLayer {\r\n    constructor(manager) {\r\n        this.manager = manager;\r\n\r\n        // Keep track of all controls which currently have the mouse 'hovering' in them\r\n        // This allows for direct 'mouseenter' and 'mouseleave' events\r\n        this.hoveredControls = [];\r\n    }\r\n\r\n    _gatherHitChildren(section, point) {\r\n        // Gather all children, including sections that contain the given point\r\n        let hits = section.children.filter(ctrl => ctrl.isPointWithin(point));\r\n\r\n        // For each section hit, gather its children that are also hit, using recursion\r\n        let sections = hits.filter(ctrl => ctrl.isArranger);\r\n        for (let sec of sections) hits = hits.concat(this._gatherHitChildren(sec, point));\r\n\r\n        return hits;\r\n    }\r\n\r\n    rerouteKeyboardEvent(type, code, key, repeat, modifiers) {\r\n        // All keyboards are system-wide with canvas as a source\r\n        this.manager.handleEvent(this.manager.canvas, type, {\r\n            code: code,\r\n            key: key,\r\n            repeat: repeat,\r\n            modifiers: modifiers\r\n        });\r\n\r\n        // If there is a focused control, it will be the event source as well\r\n        let page = this.manager.activePage;\r\n        if (page && page.focusedControl)\r\n            this.manager.handleEvent(page.focusedControl, type, {\r\n                code: code,\r\n                key: key,\r\n                repeat: repeat,\r\n                modifiers: modifiers\r\n            });\r\n    }\r\n\r\n    rerouteWheelEvent(position, direction, distance) {\r\n        if (this.manager.activePage == null) return;\r\n\r\n        let targetControls = [];\r\n        for (let section of this.manager.activePage.children) {\r\n            if (section.isPointWithin(position)) {\r\n                targetControls.push(section);\r\n                targetControls = targetControls.concat(this._gatherHitChildren(section, position));\r\n            }\r\n        }\r\n\r\n        for (let ctrl of targetControls) {\r\n            this.manager.handleEvent(ctrl, \"wheel\", {\r\n                position: position,\r\n                direction: direction,\r\n                distance: distance\r\n            });\r\n        }\r\n    }\r\n\r\n    rerouteMouseEvent(position, type, button, modifiers) {\r\n        if (this.manager.activePage == null) return;\r\n\r\n        let targetControls = [];\r\n        for (let section of [...this.manager.activePage.children, ..._app__WEBPACK_IMPORTED_MODULE_0__[\"App\"].getPopups()]) {\r\n            if (section.isPointWithin(position)) {\r\n                targetControls.push(section);\r\n                targetControls = targetControls.concat(this._gatherHitChildren(section, position));\r\n            }\r\n        }\r\n\r\n        for (let ctrl of targetControls) {\r\n            this.manager.handleEvent(ctrl, type, {\r\n                position: position,\r\n                button: button,\r\n                modifiers: modifiers\r\n            });\r\n        }\r\n\r\n        // Handle mouseenter/mouseleave logic\r\n        if (type == \"mousemove\") {\r\n            let unhovers = this.hoveredControls.filter(ctrl => targetControls.indexOf(ctrl) == -1);\r\n            for (let ctrl of unhovers) {\r\n                this.hoveredControls.splice(this.hoveredControls.indexOf(ctrl), 1);\r\n                this.manager.handleEvent(ctrl, \"mouseleave\", {});\r\n            }\r\n            let newhovers = targetControls.filter(ctrl => this.hoveredControls.indexOf(ctrl) == -1);\r\n            for (let ctrl of newhovers) {\r\n                this.hoveredControls.push(ctrl);\r\n                this.manager.handleEvent(ctrl, \"mouseenter\", {});\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/events/controlEventLayer.js?");

/***/ }),

/***/ "./src/lib/datalit/events/eventListener.js":
/*!*************************************************!*\
  !*** ./src/lib/datalit/events/eventListener.js ***!
  \*************************************************/
/*! exports provided: EventListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventListener\", function() { return EventListener; });\nclass EventListener {\r\n    constructor(targetSource, eventType, callback, options) {\r\n        this.targetSource = targetSource;\r\n        this.eventType = eventType;\r\n        this.callback = callback;\r\n        this.priority = options.priority;\r\n        this.oneOff = options.oneOff;\r\n        this.UID = options.UID;\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/events/eventListener.js?");

/***/ }),

/***/ "./src/lib/datalit/events/events.js":
/*!******************************************!*\
  !*** ./src/lib/datalit/events/events.js ***!
  \******************************************/
/*! exports provided: Events */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Events\", function() { return Events; });\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors.js */ \"./src/lib/datalit/errors.js\");\n/* harmony import */ var _eventListener_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./eventListener.js */ \"./src/lib/datalit/events/eventListener.js\");\n/* harmony import */ var _controlEventLayer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./controlEventLayer.js */ \"./src/lib/datalit/events/controlEventLayer.js\");\n\r\n\r\n\r\n\r\n\r\nvar UID_COUNT = 1523;\r\n\r\nclass EventManager {\r\n    constructor(options = {}) {\r\n        this.canvas = document.getElementById(\"canvas\");\r\n        this.activePage = null;\r\n        this.controlLayer = new _controlEventLayer_js__WEBPACK_IMPORTED_MODULE_3__[\"ControlEventLayer\"](this);\r\n\r\n        window.addEventListener(\"resize\", ev => this.handleEvent(window, \"resize\", null));\r\n\r\n        this.setupMouseEvents();\r\n        this.setupScrollEvents();\r\n\r\n        this.keyboardModifiers = { alt: false, shift: false, ctrl: false };\r\n        this.setupKeyboardEvents();\r\n\r\n        this._registrations = {};\r\n    }\r\n\r\n    updateActivePage(page) {\r\n        this.activePage = page;\r\n    }\r\n\r\n    attachSource(source, eventList) {\r\n        if (typeof source[\"addEventListener\"] === \"undefined\" || typeof source[\"dispatchEvent\"] === \"undefined\")\r\n            Object(_errors_js__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"objectInterfaceMismatch\", [source.toString(), [\"addEventListener\", \"dispatchEvent\"]]);\r\n        if (typeof eventList != \"object\") Object(_errors_js__WEBPACK_IMPORTED_MODULE_1__[\"datalitError\"])(\"typeMismatch\", [typeof eventList, \"eventList\", \"object\"]);\r\n\r\n        for (let event of eventList) {\r\n            source.addEventListener(event, ev => this.handleEvent(source, event, ev));\r\n        }\r\n    }\r\n\r\n    unregister(targetSource, eventType, cbUID) {\r\n        let key = `${targetSource.__GUID}.${eventType}`;\r\n        console.log(`unregister key: ${key}`);\r\n        let match = this._registrations[key].find(reg => reg.UID == cbUID);\r\n        if (match) this._registrations[key].splice(this._registrations[key].indexOf(match), 1);\r\n    }\r\n\r\n    register(targetSource, eventType, callback, options = { oneOff: false, priority: 0, UID: UID_COUNT++ }) {\r\n        if (!(\"oneOff\" in options)) options.oneOff = false;\r\n        if (!(\"priority\" in options)) options.priority = 0;\r\n        if (!(\"UID\" in options)) options.UID = UID_COUNT++;\r\n\r\n        // console.log(`register for event ${eventType} from ${this.getSourceType(targetSource)} (UID: ${options.UID})`);\r\n\r\n        // Create the unique combination of control + eventType if not present\r\n        let key = `${targetSource.__GUID}.${eventType}`;\r\n        if (!this._registrations[key]) this._registrations[key] = [];\r\n\r\n        this._registrations[key].push(new _eventListener_js__WEBPACK_IMPORTED_MODULE_2__[\"EventListener\"](targetSource, eventType, callback, options));\r\n        return options.UID;\r\n    }\r\n\r\n    _setupKeyboardEvent(eventName) {\r\n        window.addEventListener(eventName, ev => {\r\n            // console.log(\r\n            //     `Handling ${eventName} event: ${ev.code}/${ev.key} (${JSON.stringify(\r\n            //         this.keyboardModifiers\r\n            //     )}) | (repeat: ${ev.repeat})`\r\n            // );\r\n\r\n            // Stop problem events\r\n            if (eventName == \"keydown\" && (ev.code == \"Tab\" || ev.key == \"'\" || ev.key == \"/\" || ev.key == \"Backspace\"))\r\n                ev.preventDefault();\r\n\r\n            // Sends this event out to helper class ControlEventLayer to determine which control(s)\r\n            // this keyboard event should be sourced by. It then calls handleEvent with each control as source\r\n            this.controlLayer.rerouteKeyboardEvent(eventName, ev.code, ev.key, ev.repeat, this.keyboardModifiers);\r\n\r\n            // Update modifiers AFTER the event is called, so modifiers keys don't modify themselves\r\n            if (ev.code == \"ShiftLeft\" || ev.code == \"ShiftRight\")\r\n                this.keyboardModifiers.shift = eventName == \"keydown\";\r\n            if (ev.code == \"ControlLeft\" || ev.code == \"ControlRight\")\r\n                this.keyboardModifiers.ctrl = eventName == \"keydown\";\r\n            if (ev.code == \"AltLeft\" || ev.code == \"AltRight\") this.keyboardModifiers.alt = eventName == \"keydown\";\r\n        });\r\n    }\r\n    setupKeyboardEvents() {\r\n        this._setupKeyboardEvent(\"keydown\");\r\n        this._setupKeyboardEvent(\"keyup\");\r\n    }\r\n\r\n    _setupMouseEvent(eventName) {\r\n        this.canvas.addEventListener(eventName, ev => {\r\n            let mods = { alt: ev.altKey, shift: ev.shiftKey, ctrl: ev.ctrlKey };\r\n\r\n            // Sends this event out to helper class ControlEventLayer to determine which control(s)\r\n            // this mouse event falls under. It then calls handleEvent with each control as source\r\n            this.controlLayer.rerouteMouseEvent([ev.clientX, ev.clientY], eventName, ev.which, mods);\r\n        });\r\n    }\r\n    setupMouseEvents() {\r\n        this._setupMouseEvent(\"mousedown\");\r\n        this._setupMouseEvent(\"mouseup\");\r\n        this._setupMouseEvent(\"mousemove\");\r\n        this._setupMouseEvent(\"dblclick\");\r\n        this._setupMouseEvent(\"mouseover\");\r\n        this._setupMouseEvent(\"mouseout\");\r\n    }\r\n    setupScrollEvents() {\r\n        this.canvas.addEventListener(\"wheel\", ev => {\r\n            ev.preventDefault();\r\n\r\n            let direction = ev.ctrlKey ? \"horizontal\" : \"vertical\";\r\n            this.controlLayer.rerouteWheelEvent([ev.clientX, ev.clientY], direction, ev.deltaY);\r\n        });\r\n    }\r\n\r\n    getSourceType(source) {\r\n        const className = source.constructor.name;\r\n        if (className == \"HTMLCanvasElement\" || className == \"Window\") {\r\n            return _enums_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EventSourceType.NATIVE;\r\n        }\r\n        // else if (source instanceof DataModel) return enums.EventSourceType.DATAMODEL;\r\n        else {\r\n            return _enums_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].EventSourceType.CONTROL;\r\n        }\r\n    }\r\n\r\n    /*\r\n    WARNING - THIS IS EXTREMELY HIGH TRAFFIC CODE!\r\n    */\r\n    handleEvent(source, type, data) {\r\n        // if (this.getSourceType(source) == enums.EventSourceType.CONTROL)\r\n        //     console.log(`Handling event ${type} from ${source.debugName}`);\r\n        // else console.log(`Handling event ${type} from ${this.getSourceType(source)}`);\r\n\r\n        // First check if array exists for key\r\n        if (!this._registrations[`${source.__GUID}.${type}`]) return;\r\n\r\n        let key = `${source.__GUID}.${type}`;\r\n        let activeListeners = this._registrations[key];\r\n        if (activeListeners.length < 1) return;\r\n\r\n        // console.log(`Active listeners: ${activeListeners.length}`);\r\n\r\n        activeListeners.sort((a, b) => {\r\n            if (a.priority < b.priority) return 1;\r\n            if (a.priority > b.priority) return -1;\r\n            if (a.priority == b.priority) return 0;\r\n        });\r\n\r\n        const event = {\r\n            sourceType: this.getSourceType(source),\r\n            source: source,\r\n            eventType: type,\r\n            triggerTime: new Date().getTime(),\r\n            killChain: false\r\n        };\r\n\r\n        // console.log(`Event data: ${event.sourceType} | ${event.eventType} | ${event.triggerTime}`);\r\n        for (let i = 0; i < activeListeners.length; i++) {\r\n            activeListeners[i].callback(event, data);\r\n            if (activeListeners[i].oneOff) this.unregister(source, type, activeListeners[i].UID);\r\n            if (event.killChain) break;\r\n        }\r\n    }\r\n}\r\n\r\nconst Events = new EventManager();\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/events/events.js?");

/***/ }),

/***/ "./src/lib/datalit/pageManager.js":
/*!****************************************!*\
  !*** ./src/lib/datalit/pageManager.js ***!
  \****************************************/
/*! exports provided: PageManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PageManager\", function() { return PageManager; });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/events.js */ \"./src/lib/datalit/events/events.js\");\n\r\n\r\n\r\nclass PageManager {\r\n    constructor() {\r\n        this.pageStack = [];\r\n\r\n        // Re-render the page when resized\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_1__[\"Events\"].register(window, \"resize\", (ev, data) => {\r\n            this.peek().scheduleRender();\r\n        });\r\n    }\r\n\r\n    peek() {\r\n        return this.pageStack.length > 0 ? this.pageStack[this.pageStack.length - 1] : null;\r\n    }\r\n\r\n    popPage() {\r\n        oldPage = this.pageStack.pop();\r\n        oldPage.deactivate();\r\n\r\n        if (this.peek()) {\r\n            this.peek().activate();\r\n            _events_events_js__WEBPACK_IMPORTED_MODULE_1__[\"Events\"].updateActivePage(this.peek());\r\n        }\r\n    }\r\n\r\n    changePage(page) {\r\n        while (this.peek()) {\r\n            page = this.pageStack.pop();\r\n            page.deactivate();\r\n        }\r\n\r\n        this.pushPage(page);\r\n    }\r\n\r\n    pushPage(page) {\r\n        if (this.peek()) this.peek().deactivate();\r\n\r\n        this.pageStack.push(page);\r\n        page.activate();\r\n        _events_events_js__WEBPACK_IMPORTED_MODULE_1__[\"Events\"].updateActivePage(this.peek());\r\n    }\r\n\r\n    update(elapsed) {\r\n        if (this.pageStack.length < 1) throw new Error(\"Cannot update empty pageManager!\");\r\n\r\n        this.peek().update(elapsed);\r\n    }\r\n\r\n    draw() {\r\n        if (this.pageStack.length < 1) throw new Error(\"Cannot draw empty pageManager!\");\r\n\r\n        this.peek().draw();\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/pageManager.js?");

/***/ }),

/***/ "./src/lib/datalit/styling/style.js":
/*!******************************************!*\
  !*** ./src/lib/datalit/styling/style.js ***!
  \******************************************/
/*! exports provided: Style */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Style\", function() { return Style; });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _events_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events/events */ \"./src/lib/datalit/events/events.js\");\n\r\n\r\n\r\n/*\r\n:param control -> The control this style applies to\r\n:param triggerState -> The control's state that when activated, will apply the style (enum ControlState.*)\r\n:param propertyDefinitions -> List of properties and their values to apply on state change. \r\n    Must be a list of Lists [propertyNameString, propertyValue]\r\n*/\r\n\r\nclass Style {\r\n    constructor(control, triggerState, propertyDefinitions) {\r\n        this.host = control;\r\n        this.triggerState = triggerState;\r\n        // Automatically remove alignment-based properties and other problem properties\r\n        this.propertyDefinitions = propertyDefinitions.filter(\r\n            kvp =>\r\n                kvp[0] != \"halign\" &&\r\n                kvp[0] != \"valign\" &&\r\n                kvp[0] != \"hfillTarget\" &&\r\n                kvp[0] != \"vfillTarget\" &&\r\n                kvp[0] != \"state\" &&\r\n                kvp[0] != \"focused\"\r\n        );\r\n\r\n        if (control.state == triggerState) this.activate();\r\n\r\n        _events_events__WEBPACK_IMPORTED_MODULE_1__[\"Events\"].register(control, \"propertyChanged\", (ev, data) => this.handleStateChange(ev, data));\r\n    }\r\n\r\n    activate() {\r\n        for (let def of this.propertyDefinitions) {\r\n            if (!this.host.propertyMetadata[def[0]].styleProtected) this.host[def[0]] = def[1];\r\n        }\r\n    }\r\n\r\n    handleStateChange(ev, data) {\r\n        if (data.property == \"state\") {\r\n            if (data.newValue == this.triggerState) this.activate();\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/styling/style.js?");

/***/ }),

/***/ "./src/lib/datalit/utils.js":
/*!**********************************!*\
  !*** ./src/lib/datalit/utils.js ***!
  \**********************************/
/*! exports provided: getDescendentProperty, monthNumberToName, formatDateFull, formatTimestamp, getWords, changeCursor, resolveObjectPath, newColor, hexColor, comparePoints, compareSides, compareSimpleLists, distanceBetweenPoints, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDescendentProperty\", function() { return getDescendentProperty; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"monthNumberToName\", function() { return monthNumberToName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatDateFull\", function() { return formatDateFull; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatTimestamp\", function() { return formatTimestamp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWords\", function() { return getWords; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeCursor\", function() { return changeCursor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resolveObjectPath\", function() { return resolveObjectPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"newColor\", function() { return newColor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hexColor\", function() { return hexColor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"comparePoints\", function() { return comparePoints; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"compareSides\", function() { return compareSides; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"compareSimpleLists\", function() { return compareSimpleLists; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"distanceBetweenPoints\", function() { return distanceBetweenPoints; });\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums.js */ \"./src/lib/datalit/enums.js\");\n\r\n\r\nfunction getDescendentProperty(object, path) {\r\n    while (path.length) object = object[path.shift()];\r\n    return object;\r\n}\r\n\r\nfunction monthNumberToName(month) {\r\n    switch (month) {\r\n        case 1:\r\n            return \"JAN\";\r\n        case 2:\r\n            return \"FEB\";\r\n        case 3:\r\n            return \"MAR\";\r\n        case 4:\r\n            return \"APR\";\r\n        case 5:\r\n            return \"MAY\";\r\n        case 6:\r\n            return \"JUN\";\r\n        case 7:\r\n            return \"JUL\";\r\n        case 8:\r\n            return \"AUG\";\r\n        case 9:\r\n            return \"SEP\";\r\n        case 10:\r\n            return \"OCT\";\r\n        case 11:\r\n            return \"NOV\";\r\n        case 12:\r\n            return \"DEC\";\r\n    }\r\n}\r\n\r\nfunction formatDateFull(date) {\r\n    return `${date\r\n        .getHours()\r\n        .toString()\r\n        .padStart(2, \"0\")}:${date\r\n        .getMinutes()\r\n        .toString()\r\n        .padStart(2, \"0\")} ${monthNumberToName(date.getMonth() + 1)} ${date\r\n        .getDate()\r\n        .toString()\r\n        .padStart(2, \"0\")}, ${date.getFullYear()}`;\r\n}\r\n\r\nfunction formatTimestamp(stamp) {\r\n    var hours = Math.floor(stamp / 1000 / 60 / 60);\r\n    var minutes = Math.floor(hours > 0 ? (stamp % (hours * 3600000)) / 1000 / 60 : stamp / 1000 / 60);\r\n    var seconds = Math.floor((stamp % (1000 * 60)) / 1000);\r\n    return `${hours.toString().padStart(2, \"0\")}:${minutes.toString().padStart(2, \"0\")}:${seconds\r\n        .toString()\r\n        .padStart(2, \"0\")}`;\r\n}\r\n\r\nfunction getWords(input) {\r\n    return input.split(\" \");\r\n}\r\n\r\nfunction changeCursor(newCursor) {\r\n    if (!_enums_js__WEBPACK_IMPORTED_MODULE_0__[\"Cursor\"].hasOwnProperty(newCursor.toUpperCase())) throw new Error(\"Invalid cursor: \" + String(newCursor));\r\n\r\n    document.body.style.cursor = newCursor;\r\n}\r\n\r\nfunction resolveObjectPath(path, obj = self) {\r\n    return path.reduce((prev, curr) => prev && prev[curr], obj);\r\n}\r\n\r\nfunction newColor(r, g, b, a = 1.0) {\r\n    return `rgba(${r},${g},${b},${a})`;\r\n}\r\n\r\nfunction hexColor(hexString) {\r\n    if (hexString.length != 2 && hexString.length != 6 && hexString.length != 8)\r\n        throw new Error(\"Invalid color hex string: \" + hexString);\r\n\r\n    if (hexString.length == 2) {\r\n        hexString += hexString + hexString;\r\n    }\r\n\r\n    let r = parseInt(hexString.substring(0, 2), 16);\r\n    let g = parseInt(hexString.substring(2, 4), 16);\r\n    let b = parseInt(hexString.substring(4, 6), 16);\r\n    let a = hexString.length == 8 ? parseInt(hexString.substring(6, 8), 16) / 255 : 1.0;\r\n\r\n    return `rgb(${r},${g},${b},${a})`;\r\n}\r\n\r\nfunction comparePoints(pointA, pointB) {\r\n    return pointA[0] == pointB[0] && pointA[1] == pointB[1];\r\n}\r\n\r\n// Used for any object that is a list of 4 integers\r\nfunction compareSides(sidesA, sidesB) {\r\n    if (!sidesA || !sidesB) return sidesA == sidesB;\r\n\r\n    return sidesA[0] == sidesB[0] && sidesA[1] == sidesB[1] && sidesA[2] == sidesB[2] && sidesA[3] == sidesB[3];\r\n}\r\n\r\nfunction compareSimpleLists(listA, listB) {\r\n    if (!listA || !listB) return listA == listB;\r\n\r\n    if (listA.length != listB.length) return false;\r\n\r\n    for (var i = 0; i < listA.length; i++) {\r\n        if (listA[i] != listB[i]) return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nfunction distanceBetweenPoints(pointA, pointB) {\r\n    return Math.sqrt(\r\n        (pointA[0] - pointB[0]) * (pointA[0] - pointB[0]) + (pointA[1] - pointB[1]) * (pointA[1] - pointB[1])\r\n    );\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    resolveObjectPath,\r\n    newColor,\r\n    hexColor,\r\n    comparePoints,\r\n    distanceBetweenPoints,\r\n    compareSides,\r\n    changeCursor,\r\n    formatDateFull,\r\n    formatTimestamp,\r\n    monthNumberToName,\r\n    getDescendentProperty,\r\n    compareSimpleLists\r\n});\r\n\n\n//# sourceURL=webpack:///./src/lib/datalit/utils.js?");

/***/ }),

/***/ "./src/pages/budgetAnalyzer.js":
/*!*************************************!*\
  !*** ./src/pages/budgetAnalyzer.js ***!
  \*************************************/
/*! exports provided: BudgetAnalyzerPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BudgetAnalyzerPage\", function() { return BudgetAnalyzerPage; });\n/* harmony import */ var _lib_datalit_app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/datalit/app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _lib_datalit_binding_bindingContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/datalit/binding/bindingContext.js */ \"./src/lib/datalit/binding/bindingContext.js\");\n/* harmony import */ var _dataProviders_budgetAnalyzerData_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dataProviders/budgetAnalyzerData.js */ \"./src/dataProviders/budgetAnalyzerData.js\");\n/* harmony import */ var _lib_datalit_enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/datalit/enums */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _lib_datalit_events_events_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/datalit/events/events.js */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _lib_datalit_controls_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/datalit/controls/page */ \"./src/lib/datalit/controls/page.js\");\n/* harmony import */ var _lib_datalit_utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/datalit/utils.js */ \"./src/lib/datalit/utils.js\");\n/* harmony import */ var _lib_datalit_controlFactory_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/datalit/controlFactory.js */ \"./src/lib/datalit/controlFactory.js\");\n/* harmony import */ var _assets_themeMap_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../assets/themeMap.js */ \"./assets/themeMap.js\");\n/* harmony import */ var _lib_datalit_assetManager_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/datalit/assetManager.js */ \"./src/lib/datalit/assetManager.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar Expense = __webpack_require__(/*! ../../../sharedModel/expense.js */ \"../sharedModel/expense.js\");\r\n\r\nclass BudgetAnalyzerPage extends _lib_datalit_controls_page__WEBPACK_IMPORTED_MODULE_5__[\"Page\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        var data = new Expense({ amount: 24.23, note: \"Test Expense\" });\r\n\r\n        // console.log(data);\r\n        // console.log(data.validate());\r\n        // console.log(data.validate({ amount: -10.23 }));\r\n\r\n        this.debugName = \"budgetAnalyzerPage\";\r\n        this.backgroundColor = \"999d99\";\r\n        this.contentDirection = _lib_datalit_enums__WEBPACK_IMPORTED_MODULE_3__[\"ContentDirection\"].VERTICAL;\r\n\r\n        let bindingContext = new _lib_datalit_binding_bindingContext_js__WEBPACK_IMPORTED_MODULE_1__[\"BindingContext\"](\r\n            this,\r\n            {\r\n                navigateCommand: btn => this.handleNavigateButton(btn)\r\n            },\r\n            {\r\n                coreData: new _dataProviders_budgetAnalyzerData_js__WEBPACK_IMPORTED_MODULE_2__[\"BudgetAnalyzerData\"]()\r\n            }\r\n        );\r\n\r\n        this.navbar = _lib_datalit_controlFactory_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].generateMarkupObjects(\"budgetAnalyzer.navbar\", bindingContext);\r\n        this.enterExpenseSection = _lib_datalit_controlFactory_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].generateMarkupObjects(\"budgetAnalyzer.enterExpenseSection\", bindingContext);\r\n\r\n        // DEBUG FOR NOW\r\n        this.enterExpenseSection.mainSection.totalSection.totalExpenseValue.text = \"316\";\r\n        // -------------\r\n\r\n        this.addSection(this.navbar);\r\n        this.addSection(this.enterExpenseSection);\r\n\r\n        this.updateTime();\r\n        setInterval(() => this.updateTime(), 5000);\r\n\r\n        // Apply bindings\r\n        bindingContext.initializeBindings();\r\n\r\n        _lib_datalit_events_events_js__WEBPACK_IMPORTED_MODULE_4__[\"Events\"].register(_lib_datalit_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Canvas, \"keydown\", (ev, data) => this.handleKeypress(data));\r\n    }\r\n\r\n    updateTime() {\r\n        let today = new Date();\r\n        this.navbar.todayLabel.text = `${today.getHours()}:${today\r\n            .getMinutes()\r\n            .toString()\r\n            .padStart(2, \"0\")} Monday ${_lib_datalit_utils_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].monthNumberToName(\r\n            today.getMonth()\r\n        )} ${today.getDate()}, ${today.getFullYear()}`;\r\n    }\r\n\r\n    handleNavigateButton(btn) {\r\n        console.log(\"navigation: \" + btn.debugName);\r\n    }\r\n\r\n    handleKeypress(data) {\r\n        switch (data.key) {\r\n            case \"a\":\r\n                this.enterExpenseSection.mainSection.totalSection.totalExpenseValue.text = \"311\";\r\n                break;\r\n            case \"b\":\r\n                break;\r\n            case \"c\":\r\n                break;\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/pages/budgetAnalyzer.js?");

/***/ }),

/***/ "./src/pages/testApp.js":
/*!******************************!*\
  !*** ./src/pages/testApp.js ***!
  \******************************/
/*! exports provided: TestPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TestPage\", function() { return TestPage; });\n/* harmony import */ var _lib_datalit_app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/datalit/app.js */ \"./src/lib/datalit/app.js\");\n/* harmony import */ var _lib_datalit_controls_button_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/datalit/controls/button.js */ \"./src/lib/datalit/controls/button.js\");\n/* harmony import */ var _lib_datalit_binding_bindingContext_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/datalit/binding/bindingContext.js */ \"./src/lib/datalit/binding/bindingContext.js\");\n/* harmony import */ var _lib_datalit_controls_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/datalit/controls/page */ \"./src/lib/datalit/controls/page.js\");\n/* harmony import */ var _lib_datalit_controls_section__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/datalit/controls/section */ \"./src/lib/datalit/controls/section.js\");\n/* harmony import */ var _lib_datalit_enums__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/datalit/enums */ \"./src/lib/datalit/enums.js\");\n/* harmony import */ var _lib_datalit_controls_label__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/datalit/controls/label */ \"./src/lib/datalit/controls/label.js\");\n/* harmony import */ var _lib_datalit_controls_scrollSection__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/datalit/controls/scrollSection */ \"./src/lib/datalit/controls/scrollSection.js\");\n/* harmony import */ var _lib_datalit_events_events_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/datalit/events/events.js */ \"./src/lib/datalit/events/events.js\");\n/* harmony import */ var _lib_datalit_controls_iconButton_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/datalit/controls/iconButton.js */ \"./src/lib/datalit/controls/iconButton.js\");\n/* harmony import */ var _lib_datalit_utils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/datalit/utils.js */ \"./src/lib/datalit/utils.js\");\n/* harmony import */ var _lib_datalit_controlFactory_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/datalit/controlFactory.js */ \"./src/lib/datalit/controlFactory.js\");\n/* harmony import */ var _lib_datalit_controls_textInput_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../lib/datalit/controls/textInput.js */ \"./src/lib/datalit/controls/textInput.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TestPage extends _lib_datalit_controls_page__WEBPACK_IMPORTED_MODULE_3__[\"Page\"] {\r\n    constructor() {\r\n        super();\r\n\r\n        this.debugName = \"testPage\";\r\n        this.backgroundColor = \"999d99\";\r\n        this.contentDirection = _lib_datalit_enums__WEBPACK_IMPORTED_MODULE_5__[\"ContentDirection\"].VERTICAL;\r\n\r\n        let bindingContext = new _lib_datalit_binding_bindingContext_js__WEBPACK_IMPORTED_MODULE_2__[\"BindingContext\"](this, {});\r\n\r\n        this.main = new _lib_datalit_controls_section__WEBPACK_IMPORTED_MODULE_4__[\"Section\"]({\r\n            debugName: \"main\"\r\n        });\r\n        // this.input = new TextInput();\r\n        // this.main.addChild(this.input);\r\n\r\n        this.addSection(this.main);\r\n\r\n        // Apply bindings\r\n        bindingContext.initializeBindings();\r\n\r\n        _lib_datalit_events_events_js__WEBPACK_IMPORTED_MODULE_8__[\"Events\"].register(_lib_datalit_app_js__WEBPACK_IMPORTED_MODULE_0__[\"App\"].Canvas, \"keydown\", (ev, data) => this.handleKeypress(data));\r\n    }\r\n\r\n    handleKeypress(data) {\r\n        switch (data.key) {\r\n            case \"a\":\r\n                break;\r\n            case \"b\":\r\n                break;\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/pages/testApp.js?");

/***/ })

/******/ });